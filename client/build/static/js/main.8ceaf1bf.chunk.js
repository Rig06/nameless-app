(this.webpackJsonplambdavibe=this.webpackJsonplambdavibe||[]).push([[0],Array(44).concat([function(t,e,n){},,function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/boom.d89f41a5.wav"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/clap.eb738e52.wav"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/hihat.0273528c.wav"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/kick.1d842c55.wav"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/openhat.482e5231.wav"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/ride.44e63854.wav"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/snare.3aa3f943.wav"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/tom.52db9c23.wav"},function(t,e,n){},function(t,e,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/bassboom.2ee7957e.png"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/drumkick.dadd145b.png"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/clapstack.88a15df6.png"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/hihat.a2693f3c.png"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/tink.5b878d5d.wav"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/tiks.8ea91522.png"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/openhihat.ec7b2dc7.png"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/ridecymbal.adb0bce4.png"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/snare.35479f84.png"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/floortomedt.c3273769.png"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/AftertheLove.bfa92778.mp3"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/ARushOfBloodToTheHead.c3739d79.m4a"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/PrettyThoughts.70f6cefd.mp3"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/BarTender.0c0a7234.mp3"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/RockThatBody.de3acd76.mp3"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/SmackThat.e50d5b18.mp3"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/HereisGone.d7343e63.mp3"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/InBloom.fbf438e6.m4a"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/MeetMeHalfway.b6634374.mp3"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/Shadowplay.57040174.mp3"},,,,,,function(t,e,n){},function(t,e,n){"use strict";n.r(e);var i=n(0),a=n.n(i),r=n(56),c=n.n(r),s=n(9),o=n.n(s),l=n(12),u=n(13),d=n(36),f=n(17),h=n(15),b=n(124),m=n(2),p=n(18),j=function t(e,n){Object(m.a)(this,t),this.type=void 0,this.args=void 0,this.type=e,this.args=Object(p.d)(n)};function v(t,e){var n=e.type,i=e.args;console.debug("".concat(n));var a=function(){switch(n){case"SET_SOCKET":var e=t.get("socket");return e&&e.close(),t.set("socket",i.get("socket"));case"DELETE_SOCKET":return t.delete("socket");case"SET_SONGS":var a=i.get("songs");return t.set("songs",a);case"PLAY_SONG":var r=t.get("songs").find((function(t){return t.get("id")===i.get("id")})).get("notes");return t.set("notes",r);case"STOP_SONG":return t.delete("notes");case"SET_LOCATION":var c,s=i.getIn(["location","pathname"],""),o=i.getIn(["location","search"],""),l=s.substring(1),u=null!==(c=new URLSearchParams(o.substring(1)).get("visualizer"))&&void 0!==c?c:"",d=t.get("instruments"),f=t.get("visualizers"),h=d.find((function(t){return t.name===l})),b=f.find((function(t){return t.name===u}));return t.set("instrument",h).set("visualizer",b);default:return console.error("type unknown: ".concat(n,"\n"),i.toJS()),t}}();return console.debug(a.update("socket",(function(t){return t?"[socket]":t})).toJS()),a}n(44);var g=n(11),O=function t(e,n){Object(m.a)(this,t),this.name=void 0,this.component=void 0,this.name=e,this.component=n};function x(t){var e=t.name;return Object(g.jsx)("div",{className:"w-100 h3 bb b--light-grey flex justify-between items-center ph4",children:Object(g.jsx)("div",{children:Object(g.jsx)("h3",{children:e})})})}var w=function(t){var e=t.instrument,n=t.state,a=t.dispatch,r=e.component,c=Object(i.useState)(new h.l({oscillator:{type:"sine"}}).toDestination()),s=Object(u.a)(c,2),o=s[0],l=s[1],d=n.get("notes");return Object(i.useEffect)((function(){if(d&&o){var t=d.split(" "),e=t.map((function(t,e){return{idx:e,time:"+".concat(e/4),note:t,velocity:1}}));return new h.i((function(e,n){o.triggerAttackRelease(n.note,"4n",e,n.velocity),n.idx===t.length-1&&a(new j("STOP_SONG"))}),e).start(0),h.m.start(),function(){h.m.cancel()}}return function(){}}),[d,o,a]),Object(g.jsxs)("div",{className:"top-bar",children:[Object(g.jsx)(x,{name:e.name}),Object(g.jsx)("div",{className:"instrument-canvas",style:{top:"4rem"},children:Object(g.jsx)(r,{name:e.name,state:n,dispatch:a,synth:o,setSynth:l})})]})},y=n(35),k=n.n(y),N=n(123),C=function(t){var e=t.title,n=t.children;return Object(g.jsxs)("div",{className:"flex flex-column h-25 bb b--light-gray pa3",children:[Object(g.jsxs)("div",{className:"fw7 mb2",children:[e," "]}),Object(g.jsx)("div",{className:"flex-auto overflow-scroll",children:n})]})};function S(t){var e=t.to,n=t.text,i=t.active,a=t.onClick;return Object(g.jsx)(d.b,{to:e,className:"no-underline",children:Object(g.jsxs)("div",{className:k()("f6 flex items-center black",{fw7:i}),onClick:a,children:[i?Object(g.jsx)(N.b,{className:"mr1"}):Object(g.jsx)(N.a,{className:"mr1"}),Object(g.jsx)("div",{className:"dim",children:n})]})})}function E(t){var e,n=t.state,i=n.get("instruments"),a=null===(e=n.get("instrument"))||void 0===e?void 0:e.name,r=Object(f.f)();return Object(g.jsx)(C,{title:"Instruments",children:i.map((function(t){return Object(g.jsx)(S,{to:"/".concat(t.name).concat(r.search),text:t.name,active:t.name===a,onClick:function(){return console.log(t.name)}},t.name)}))})}function M(t){var e,n=t.state,i=n.get("visualizers"),a=null===(e=n.get("visualizer"))||void 0===e?void 0:e.name,r=Object(f.f)();return Object(g.jsx)(C,{title:"Visualizers",children:i.map((function(t){return Object(g.jsx)(S,{to:{pathname:r.pathname,search:"?visualizer=".concat(t.name)},text:t.name,active:t.name===a,onClick:function(){return console.log(t.name)}},t.name)}))})}function P(t){var e=t.state,n=t.dispatch,i=e.get("songs",Object(p.a)());return Object(g.jsxs)(C,{title:"Playlist",children:[Object(g.jsx)("button",{children:"Show All"}),Object(g.jsx)("button",{children:"By Artist"}),i.map((function(t){return Object(g.jsxs)("div",{className:"f6 pointer underline flex items-center no-underline i dim",onClick:function(){return n(new j("PLAY_SONG",{id:t.get("id")}))},children:[Object(g.jsx)(b.a,{className:"mr1"}),Object(g.jsxs)("div",{children:[Object(g.jsx)("text",{className:"b",children:t.get("artist")}),Object(g.jsx)("text",{children:"-"}),Object(g.jsx)("text",{children:t.get("songTitle")})]})]},t.get("id"))}))]})}function R(t){var e=t.state,n=t.dispatch;return Object(g.jsxs)("div",{className:"absolute top-0 left-0 bottom-0 w5 z-1 shadow-1 bg-white flex flex-column",children:[Object(g.jsx)("div",{className:"h3 fw7 f5 flex items-center pl3 bb b--light-gray",children:"Nameless App"}),Object(g.jsxs)("div",{className:"flex-auto",children:[Object(g.jsx)(E,{state:e,dispatch:n}),Object(g.jsx)(M,{state:e,dispatch:n}),Object(g.jsx)(P,{state:e,dispatch:n})]})]})}var T=n(59),A=n.n(T),L=function t(e,n){Object(m.a)(this,t),this.name=void 0,this.draw=void 0,this.name=e,this.draw=n};function I(t){var e=t.visualizer,n=e.name,a=e.draw,r=Object(i.useMemo)((function(){return new h.b("waveform",256)}),[]),c=Object(i.useCallback)((function(t){var e=window.innerWidth,n=window.innerHeight/2;t.resizeCanvas(e,n,!1)}),[]);Object(i.useEffect)((function(){return h.n().volume.value=-5,h.n().connect(r),function(){h.n().disconnect(r)}}),[r]);return Object(g.jsxs)("div",{className:"bg-black absolute bottom-0 right-0 left-0 h-50",children:[Object(g.jsx)("div",{className:"z-1 absolute left-0 top-0 pa4 white f5",children:n}),Object(g.jsx)(A.a,{setup:function(t,e){var n=window.innerWidth,i=window.innerHeight/2;t.createCanvas(n,i).parent(e)},draw:function(t){return a(t,r)},windowResized:c})]})}function _(t){var e=t.state,n=t.dispatch,i=e.get("instrument");return Object(g.jsx)("div",{children:i&&Object(g.jsx)(w,{state:e,dispatch:n,instrument:i})})}function V(t){var e=t.state.get("visualizer");return Object(g.jsx)("div",{children:e&&Object(g.jsx)(I,{visualizer:e},e.name)})}function D(t){var e=t.state,n=t.dispatch;return Object(g.jsxs)("div",{className:"absolute right-0 bottom-0 top-0 flex flex-column",style:{left:"16rem"},children:[Object(g.jsx)(_,{state:e,dispatch:n}),Object(g.jsx)(V,{state:e,dispatch:n})]})}function z(){return Object(g.jsx)("div",{className:"absolute right-0 bottom-0 top-0 flex flex-column items-center justify-center",style:{left:"16rem"},children:Object(g.jsxs)("div",{className:"mw6 lh-copy mb4",children:[Object(g.jsx)(b.b,{}),Object(g.jsx)("div",{className:"f3 fw7 mb2",children:"Welcome to the case study."}),Object(g.jsx)("div",{className:"f4 mb3",children:"Select an instrument and a visualizer on the left to serve some fresh beats."}),Object(g.jsx)("div",{className:"f5",children:"The UI is yours to design. Express yourself."})]})})}function B(t){var e=t.state,n=t.dispatch,a=Object(f.f)(),r=!e.get("instrument");return console.log("INSTRUMENT",r),Object(i.useEffect)((function(){n(new j("SET_LOCATION",{location:a}))}),[n,a]),Object(g.jsxs)("div",{className:"fixed top-0 left-0 h-100 w-100 bg-white",onClick:function(){return h.o()},children:[Object(g.jsx)(R,{state:e,dispatch:n}),r?Object(g.jsx)(z,{}):Object(g.jsx)(D,{state:e,dispatch:n})]})}function G(t){var e=t.note,n=t.synth,i=t.minor,a=t.index;return Object(g.jsx)("div",{onMouseDown:function(){return null===n||void 0===n?void 0:n.triggerAttack("".concat(e))},onMouseUp:function(){return null===n||void 0===n?void 0:n.triggerRelease("+0.25")},className:k()("ba pointer absolute dim",{"bg-black black h3":i,"black bg-white h4":!i}),style:{top:0,left:"".concat(2*a,"rem"),zIndex:i?1:0,width:i?"1.5rem":"2rem",marginLeft:i?"0.25rem":0}})}function H(t){var e=t.title,n=t.onClick,i=t.active;return Object(g.jsx)("div",{onClick:n,className:k()("dim pointer ph2 pv1 ba mr2 br1 fw7 bw1",{"b--black purple":i,"gray b--light-black":!i}),children:e})}var Z=new O("Piano",(function(t){var e=t.synth,i=t.setSynth,a=Object(p.a)([{note:"C",idx:0},{note:"Db",idx:.5},{note:"D",idx:1},{note:"Eb",idx:1.5},{note:"E",idx:2},{note:"F",idx:3},{note:"Gb",idx:3.5},{note:"G",idx:4},{note:"Ab",idx:4.5},{note:"A",idx:5},{note:"Bb",idx:5.5},{note:"B",idx:6}]),r=(Object(p.a)([{note:n(46).default},{note:n(47).default},{note:n(48).default},{note:n(49).default},{note:n(50).default},{note:n(51).default},{note:n(52).default},{note:n(53).default}]),Object(p.a)(["sine","sawtooth","square","triangle","fmsine","fmsawtooth","fmtriangle","amsine","amsawtooth","amtriangle"]));return Object(g.jsxs)("div",{className:"pv4",children:[Object(g.jsx)("div",{className:"relative dib h4 w-100 ml4",children:Object(p.c)(2,7).map((function(t){return a.map((function(n){var i=-1!==n.note.indexOf("b"),a="".concat(n.note).concat(t);return Object(g.jsx)(G,{note:a,synth:e,minor:i,octave:t,index:7*(t-2)+n.idx},a)}))}))}),Object(g.jsx)("div",{className:"pl4 pt4 flex",children:r.map((function(t){return Object(g.jsx)(H,{title:t,onClick:function(){return e=t,void i((function(t){return t.disconnect(),new h.l({oscillator:{type:e}}).toDestination()}));var e},active:(null===e||void 0===e?void 0:e.oscillator.type)===t},t)}))})]})})),F=new L("Waveform",(function(t,e){var n=window.innerWidth,i=window.innerHeight/2,a=Math.min(n,i);t.background(0,0,0,255),t.strokeWeight(.01*a),t.stroke(255,255,255,255),t.noFill();var r=e.getValue();t.beginShape();for(var c=0;c<r.length;c++){var s=r[c],o=t.map(c,0,r.length-1,0,n),l=i/2+s*i;t.vertex(o,l)}t.endShape()}));n(54);var K=function(t){var e=Object(i.useState)(!1),n=Object(u.a)(e,2),a=n[0],r=n[1],c=function(){r(!0),new h.j(t.sound).toDestination().autostart=!0,setTimeout((function(){r(!1)}),20)};Object(i.useEffect)((function(){document.addEventListener("keydown",(function(e){e.key.toLowerCase()===t.letter.toLowerCase()&&c()}))}));var s=function(e){e.children;return Object(g.jsxs)("button",{id:"drum-instrument-key",children:[Object(g.jsx)("img",{src:t.img,alt:"",height:85,width:90}),Object(g.jsx)("div",{className:"key-kbd",children:Object(g.jsxs)("kbd",{children:[t.letter," "]})})]})};return Object(g.jsx)("div",{className:"drum ".concat(a?"playing":""),onClick:c,children:Object(g.jsx)(s,{className:"ripple"})})};function W(t){var e=t.note,a=t.synth,r=Object(i.useState)([{sound:n(46).default,key:"A",img:n(96).default},{sound:n(49).default,key:"S",img:n(97).default},{sound:n(47).default,key:"D",img:n(98).default},{sound:n(48).default,key:"F",img:n(99).default},{sound:n(100).default,key:"G",img:n(101).default},{sound:n(50).default,key:"H",img:n(102).default},{sound:n(51).default,key:"J",img:n(103).default},{sound:n(52).default,key:"K",img:n(104).default},{sound:n(53).default,key:"L",img:n(105).default}]),c=Object(u.a)(r,1)[0];return Object(g.jsxs)("div",{className:"drum-set",children:[Object(g.jsx)("div",{className:"drums",children:c.map((function(t,e){return Object(g.jsx)(K,{img:t.img,letter:t.key,sound:t.sound},e)}))}),Object(g.jsx)("div",{onMouseDown:function(){return null===a||void 0===a?void 0:a.triggerAttack("".concat(e))},onMouseUp:function(){return null===a||void 0===a?void 0:a.triggerRelease("+0.25")}})]})}var U,J=new O("Rig06",(function(t){var e=t.synth;return t.setSynth,Object(g.jsx)("div",{className:"pv4",children:Object(g.jsx)("div",{children:Object(g.jsx)(W,{note:"",synth:e})})})})),q=n(3),Y=150;var Q=new L("Rig06",(function(t,e){(function(t){t.angleMode("degrees"),t.background(0),t.translate(740,130)}(t),new tt(t,e,Y,[0,0,0],4.8).darwEffect(0,0),0!==U)&&new tt(t,e,30,[255,8,0],.5).darwEffect(0,0);(new tt(t,e,Y,[0,0,0],4.8).darwEffect(-300,0),0!==U)&&new tt(t,e,30,[255,8,0],.5).darwEffect(0,0);new X(t,e).drawBars(0,0),new $(t,0,-600,-540).drawRect(1500,200,0),new $(t,-17,1100,300).drawRect(700,600,0),new $(t,29,-1420,0).drawRect(700,600,0)})),X=function(){function t(e,n){Object(m.a)(this,t),this.p5=void 0,this.analyzer=void 0,this.p5=e,this.analyzer=n}return Object(q.a)(t,[{key:"drawBars",value:function(t,e){this.p5.translate(t,250),this.drawRecMidRect(this.p5);var n=this.analyzer.getValue();this.p5.noStroke();this.p5.translate(14,-30);for(var i=0;i<55;i++){var a=n[i],r=5*i;a>0&&(a*=-1);var c=a/4;this.p5.fill(0),this.p5.rect(r,5,4.5,500*c-2)}}},{key:"drawRecMidRect",value:function(t){t.noStroke();var e=et();t.fill(e[0],e[1],e[2]),t.rect(0,-20,300,-50,t.PI+20,t.PI+20,t.PI,t.PI)}}]),t}(),$=function(){function t(e,n,i,a){Object(m.a)(this,t),this.p5=void 0,this.shear=void 0,this.x_pos=void 0,this.y_pos=void 0,this.p5=e,this.shear=n,this.x_pos=i,this.y_pos=a}return Object(q.a)(t,[{key:"drawRect",value:function(t,e,n){if(this.p5.translate(this.x_pos,this.y_pos),this.p5.noStroke(),this.p5.shearX(this.shear),0===U)this.p5.fill(248,53,53);else{var i=et();this.p5.fill(i[0],i[1],i[2])}this.p5.rect(0,0,t,e,25)}}]),t}(),tt=function(){function t(e,n,i,a,r){Object(m.a)(this,t),this.p5=void 0,this.values=void 0,this.radius=void 0,this.color=void 0,this.shape_weight=void 0,this.p5=e,this.values=n.getValue(),this.radius=i,this.color=a,this.shape_weight=r}return Object(q.a)(t,[{key:"darwEffect",value:function(t,e){this.p5.translate(t,e),this.p5.strokeWeight(this.shape_weight);var n=et();this.p5.stroke(n[0],n[1],n[2]),this.p5.fill(this.color[0],this.color[1],this.color[2]),this.p5.beginShape();for(var i=0;i<=180;i+=.5){var a=Math.floor(this.p5.map(i,0,180,0,this.values.length-1));U=this.values[a];var r=this.p5.map(U,-1,1,50,this.radius),c=r*Math.sin(i),s=r*Math.cos(i);this.p5.vertex(c,s)}this.p5.endShape()}}]),t}();function et(){return[Math.floor(250*Math.random())+150,Math.floor(250*Math.random())+150,Math.floor(250*Math.random())+150]}var nt=new h.g(0).toDestination(),it=new h.c(.001,.7).toDestination(),at=new h.k;function rt(t){var e=t.stringName,n=t.stringIndex,i=t.transpositionalOffset,a=t.activeNotesProp,r=t.fretsProp,c=t.octave;return Object(g.jsxs)("div",{className:"inline-flex br b--black",children:[Object(g.jsx)("div",{onMouseDown:function(){a[n]=""},className:"inline-flex pa1 bg-silver",children:Object(g.jsx)("input",{className:"flex bg-transparent",type:"radio",value:"male",name:"string".concat(n)})}),Object(g.jsx)("div",{className:"flex w1",children:Object(g.jsx)("text",{className:"flex-auto f3",children:e})}),Object(p.c)(c,c+2).map((function(t){return r.map((function(e){var r="".concat(e.note).concat(t),s="inline-flex bg-light-yellow br b--silver pa1";return r=h.h(r).transpose(i).toNote(),t===c&&"C"===e.note&&(s="inline-flex br b--washed-yellow bw3 pa1"),Object(g.jsx)("div",{className:s,children:Object(g.jsx)("div",{onMouseDown:function(){a[n]=r},className:"flex-auto pr2 pl2 bg-transparent",children:Object(g.jsx)("input",{className:"flex",type:"radio",value:"male",name:"string".concat(n)})})})}))}))]})}at.maxPolyphony=7,at.toDestination(),at.set({oscillator:{type:"fmsine6"},envelope:{attack:.01,decay:.1,sustain:.2},volume:-15}),at.connect(it),at.connect(nt);var ct=new O("ccirini",(function(t){t.synth;var e,n=t.setSynth,i=Object(p.a)([{note:"C",idx:0},{note:"Db",idx:.5},{note:"D",idx:1},{note:"Eb",idx:1.5},{note:"E",idx:2},{note:"F",idx:3},{note:"Gb",idx:3.5},{note:"G",idx:4},{note:"Ab",idx:4.5},{note:"A",idx:5},{note:"Bb",idx:5.5},{note:"B",idx:6}]),a=Object(p.a)([{note:"E",octave:4,offset:4,str:1},{note:"B",octave:3,offset:11,str:2},{note:"G",octave:3,offset:7,str:3},{note:"D",octave:3,offset:2,str:4},{note:"A",octave:2,offset:9,str:5},{note:"E",octave:2,offset:4,str:6}]),r=["","","","","",""];return Object(g.jsxs)("div",{className:"flex-column",children:[Object(g.jsx)("div",{children:(e=24,Object(g.jsxs)("div",{className:"inline-flex pt3",children:[Object(g.jsx)("text",{style:{paddingRight:10,fontSize:12},children:"Mute"}),Object(g.jsx)("text",{style:{paddingRight:19,fontSize:12},children:"Open"}),Object(g.jsx)("div",{children:Object(p.c)(1,e-1).map((function(t){return Object(g.jsx)("text",{style:{paddingRight:26.5,fontSize:12,alignItems:"center"},children:t.toString().padStart(2,"0")})}))})]}))}),Object(g.jsxs)("div",{className:"flex-column",children:[a.map((function(t){return Object(g.jsx)("div",{className:"flex",children:Object(g.jsx)(rt,{note:t.note,synth:at,octave:t.octave,transpositionalOffset:t.offset,stringName:t.note,activeNotesProp:r,fretsProp:i,stringIndex:t.str})})})),Object(g.jsxs)("div",{className:"w-100 tc",children:[Object(g.jsx)("div",{className:"dib w-30 pa2",onMouseDown:function(){return function(){at.releaseAll(),h.m.cancel(),at.unsync();var t=r.filter((function(t){return""!==t})).map((function(t){return h.f(t).toNote()}));at.triggerAttackRelease(t,.6)}()},children:Object(g.jsx)("button",{className:"w-100 bg-light-silver",children:"Strum"})}),Object(g.jsx)("div",{className:"dib w-30 pa2",onMouseDown:function(){return function(){at.releaseAll(),h.m.cancel(),h.m.stop(),at.sync();for(var t=r.filter((function(t){return""!==t})).map((function(t){return h.f(t).toNote()})),e=0;e<t.length;e++)at.triggerAttackRelease(t[e],.3,(t.length-(e+1))/2);h.m.start()}()},children:Object(g.jsx)("button",{className:"w-100 bg-light-silver",children:"Arpeggiate"})}),Object(g.jsx)("div",{className:"dib w-30 pa2",onMouseDown:function(){n((function(t){return t.disconnect(),new h.l(at.get()).toDestination()}))},children:Object(g.jsx)("button",{className:"w-100 bg-light-silver",children:"Set as active instrument"})})]})]})]})})),st=new L("ccirini",(function(t,e){var n=window.innerWidth,i=window.innerHeight/2;t.rectMode(t.CENTER),t.background(0,0,0,255),t.noFill(),t.translate(n/3,i/2),t.stroke(0,250,255);for(var a=e.getValue(),r=[],c=0;c<a.length;c+=8){t.push();var s=a[c];t.rotate((t.frameCount+c)/100),t.rect(0,0,c+1e3*s,c+1e3*s,20),0!==s&&(t.stroke(255,255,255),r.push(t.circle(100+100*s,100+100*s,100*s)),r.push(t.circle(100*s-100,100*s-100,100*s))),t.pop()}})),ot=(new h.a).toDestination(),lt=new h.d("C6").toDestination(),ut=(new h.e).toDestination();ut.dampening=160,ot.set({envelope:{attack:.01,sustain:1},volume:5}),ot.connect(ut),ot.connect(lt),ot.harmonicity.value=32;var dt="#"+((1<<24)*Math.random()|0).toString(16);function ft(t){var e=t.note,n=t.synth;return Object(g.jsxs)("div",{onMouseDown:function(){return null===n||void 0===n?void 0:n.triggerAttackRelease("".concat(e),"64n")},style:{height:"23rem",width:"6.5rem",backgroundColor:dt+10,margin:"0.2rem",display:"inline-block",border:"solid",borderRadius:"20px",zIndex:-1},children:[Object(g.jsx)("div",{className:"circle",style:{height:"20px",width:"20px",borderRadius:"50%",backgroundColor:"black",marginLeft:"2.3rem",marginTop:"10px"}}),Object(g.jsx)("div",{className:"circle2",style:{height:"20px",width:"20px",borderRadius:"50%",backgroundColor:"black",marginLeft:"2.3rem",marginTop:"18.5rem"}})]})}var ht,bt=new O("yujarvis08",(function(t){var e=t.synth,n=t.setSynth,i=Object(p.a)([{note:"C",idx:4},{note:"D",idx:5},{note:"E",idx:6},{note:"F",idx:7},{note:"G",idx:8},{note:"A",idx:9},{note:"B",idx:10}]);return Object(g.jsxs)("div",{className:"pv4",children:[Object(g.jsx)("div",{className:"relative dib h4 w-100 ml4",children:Object(p.c)(3,5).map((function(t){return i.map((function(e){var n="".concat(e.note).concat(t+2);return Object(g.jsx)(ft,{note:n,synth:ot,octave:t})}))}))}),Object(g.jsx)("div",{className:"dib w-30 pa2",onMouseDown:function(){n((function(t){return t.disconnect(),new h.l(e.get()).toDestination()}))},children:Object(g.jsx)("button",{className:"w-100 bg-light-silver",children:"Set as active instrument"})})]})})),mt=new L("yujarvis08",(function(t,e){var n=window.innerWidth,i=window.innerHeight/2,a="#"+((1<<24)*Math.random()|0).toString(16),r=0;t.background(0,0,0,255),t.stroke(256*Math.random(),256*Math.random(),256*Math.random(),256*Math.random()),t.strokeJoin("round"),t.strokeWeight(2.5),t.noFill(),t.smooth(),t.translate(n/2.5,i/2);var c=e.getValue();t.beginShape();for(var s=0;s<c.length/2;s++){var o=c[s],l=150*Math.tan(o),u=30*Math.random()*Math.sin(o)*4;t.circle(l,u,100).vertex(l,u),t.circle(l,u,200).vertex(l,u),t.circle(l,u,300).vertex(l,u),t.push(),t.translate(l,u),t.rotate(r),t.fill("white"),t.rect(l,u,10,10),t.pop(),t.push(),t.translate(l,u),t.rotate(r),t.fill(a),t.circle(-200,0,10),t.pop(),t.push(),t.translate(l,u),t.rotate(r),t.fill(a),t.circle(-250,0,10),t.pop(),r++}t.endShape()})),pt=["title","titleId"];function jt(){return jt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},jt.apply(this,arguments)}function vt(t,e){if(null==t)return{};var n,i,a=function(t,e){if(null==t)return{};var n,i,a={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function gt(t,e){var n=t.title,a=t.titleId,r=vt(t,pt);return i.createElement("svg",jt({width:14,height:16,viewBox:"0 0 14 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,ht||(ht=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.907 7.99997L1.75 2.10772V13.8922L11.907 7.99997ZM13.293 6.78197C13.5076 6.90481 13.6858 7.08214 13.8098 7.29602C13.9339 7.5099 13.9992 7.75275 13.9992 7.99997C13.9992 8.2472 13.9339 8.49004 13.8098 8.70392C13.6858 8.9178 13.5076 9.09514 13.293 9.21797L2.15775 15.679C1.24775 16.2075 0 15.6037 0 14.461V1.53897C0 0.396223 1.24775 -0.207528 2.15775 0.320972L13.293 6.78197Z",fill:"black"})))}var Ot,xt=i.forwardRef(gt),wt=(n.p,["title","titleId"]);function yt(){return yt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},yt.apply(this,arguments)}function kt(t,e){if(null==t)return{};var n,i,a=function(t,e){if(null==t)return{};var n,i,a={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Nt(t,e){var n=t.title,a=t.titleId,r=kt(t,wt);return i.createElement("svg",yt({width:10,height:16,viewBox:"0 0 10 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,Ot||(Ot=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 0.125C1.73206 0.125 1.95462 0.217187 2.11872 0.381282C2.28281 0.545376 2.375 0.767936 2.375 1V15C2.375 15.2321 2.28281 15.4546 2.11872 15.6187C1.95462 15.7828 1.73206 15.875 1.5 15.875C1.26794 15.875 1.04538 15.7828 0.881282 15.6187C0.717187 15.4546 0.625 15.2321 0.625 15V1C0.625 0.767936 0.717187 0.545376 0.881282 0.381282C1.04538 0.217187 1.26794 0.125 1.5 0.125V0.125ZM8.5 0.125C8.73206 0.125 8.95462 0.217187 9.11872 0.381282C9.28281 0.545376 9.375 0.767936 9.375 1V15C9.375 15.2321 9.28281 15.4546 9.11872 15.6187C8.95462 15.7828 8.73206 15.875 8.5 15.875C8.26794 15.875 8.04538 15.7828 7.88128 15.6187C7.71719 15.4546 7.625 15.2321 7.625 15V1C7.625 0.767936 7.71719 0.545376 7.88128 0.381282C8.04538 0.217187 8.26794 0.125 8.5 0.125V0.125Z",fill:"black"})))}var Ct,St=i.forwardRef(Nt),Et=(n.p,["title","titleId"]);function Mt(){return Mt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Mt.apply(this,arguments)}function Pt(t,e){if(null==t)return{};var n,i,a=function(t,e){if(null==t)return{};var n,i,a={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Rt(t,e){var n=t.title,a=t.titleId,r=Pt(t,Et);return i.createElement("svg",Mt({width:28,height:16,viewBox:"0 0 28 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,Ct||(Ct=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.125 0C27.3571 0 27.5796 0.0921874 27.7437 0.256282C27.9078 0.420376 28 0.642936 28 0.875V14.875C28 15.1071 27.9078 15.3296 27.7437 15.4937C27.5796 15.6578 27.3571 15.75 27.125 15.75C26.8929 15.75 26.6704 15.6578 26.5063 15.4937C26.3422 15.3296 26.25 15.1071 26.25 14.875V9.191L15.2827 15.554C14.3727 16.0825 13.125 15.4788 13.125 14.336V9.191L2.15775 15.554C1.24775 16.0825 0 15.4788 0 14.336V1.414C0 0.27125 1.24775 -0.3325 2.15775 0.196L13.125 6.559V1.414C13.125 0.27125 14.3727 -0.3325 15.2827 0.196L26.25 6.559V0.875C26.25 0.642936 26.3422 0.420376 26.5063 0.256282C26.6704 0.0921874 26.8929 0 27.125 0V0ZM1.75 1.98275V13.7672L11.907 7.875L1.75 1.98275ZM14.875 1.98275V13.7672L25.032 7.875L14.875 1.98275Z",fill:"black"})))}var Tt,At=i.forwardRef(Rt),Lt=(n.p,["title","titleId"]);function It(){return It=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},It.apply(this,arguments)}function _t(t,e){if(null==t)return{};var n,i,a=function(t,e){if(null==t)return{};var n,i,a={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Vt(t,e){var n=t.title,a=t.titleId,r=_t(t,Lt);return i.createElement("svg",It({width:28,height:16,viewBox:"0 0 28 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,Tt||(Tt=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.875 0C1.10706 0 1.32962 0.0921874 1.49372 0.256282C1.65781 0.420376 1.75 0.642936 1.75 0.875V6.559L12.7173 0.196C13.6273 -0.3325 14.875 0.27125 14.875 1.414V6.559L25.8423 0.196C26.7523 -0.3325 28 0.27125 28 1.414V14.336C28 15.4788 26.7523 16.0825 25.8423 15.554L14.875 9.191V14.336C14.875 15.4788 13.6273 16.0825 12.7173 15.554L1.75 9.191V14.875C1.75 15.1071 1.65781 15.3296 1.49372 15.4937C1.32962 15.6578 1.10706 15.75 0.875 15.75C0.642936 15.75 0.420376 15.6578 0.256282 15.4937C0.0921873 15.3296 0 15.1071 0 14.875V0.875C0 0.642936 0.0921873 0.420376 0.256282 0.256282C0.420376 0.0921874 0.642936 0 0.875 0V0ZM13.125 1.98275L2.968 7.875L13.125 13.7672V1.98275ZM26.25 1.98275L16.093 7.875L26.25 13.7672V1.98275Z",fill:"black"})))}var Dt=i.forwardRef(Vt),zt=(n.p,function(t){var e=t.isPlaying,n=t.onPlayPauseClick,i=t.onPrevClick,a=t.onNextClick;return Object(g.jsxs)("div",{className:"audio-controls",children:[Object(g.jsx)("button",{type:"button",className:"prev","aria-label":"Previous",onClick:i,children:Object(g.jsx)(Dt,{})}),e?Object(g.jsx)("button",{type:"button",className:"pause",onClick:function(){return n(!1)},"aria-label":"Pause",children:Object(g.jsx)(St,{})}):Object(g.jsx)("button",{type:"button",className:"play",onClick:function(){return n(!0)},"aria-label":"Play",children:Object(g.jsx)(xt,{})}),Object(g.jsx)("button",{type:"button",className:"next","aria-label":"Next",onClick:a,children:Object(g.jsx)(At,{})})]})}),Bt=[{title:"After the Love",artist:"R.I.O",audioSrc:n(106).default,image:"https://i1.sndcdn.com/artworks-000457158735-eehj9f-t500x500.jpg"},{title:"A Rush of Blood to the Head",artist:"Coldplay",audioSrc:n(107).default,image:"https://www.amoeba.com/sized-images/max/500/500/uploads/albums/covers/other//COLDPLAY.jpg"},{title:"Pretty Thoughts",artist:"Alina Baraz",audioSrc:n(108).default,image:"https://i1.sndcdn.com/artworks-000117930986-i8yt5q-t500x500.jpg"},{title:"Bartender",artist:"T-Pain",audioSrc:n(109).default,image:"https://upload.wikimedia.org/wikipedia/en/0/07/Bartender_%28T-Pain_song%29.jpg"},{title:"Rock that Body",artist:"Black Eyed Peas",audioSrc:n(110).default,image:"https://m.media-amazon.com/images/I/41Zo954AAKL.jpg"},{title:"Smack That",artist:"Akon",audioSrc:n(111).default,image:"https://www.songmeaningsandfacts.com/wp-content/uploads/2020/05/Smack-That-by-Akon-ft.-Eminem.png"},{title:"Here is Gone",artist:"Goo Goo Dolls",audioSrc:n(112).default,image:"https://i.scdn.co/image/ab67616d0000b2739923ca569ea4d53394c0146e"},{title:"In Bloom",artist:"Nirvana",audioSrc:n(113).default,image:"https://museoz.com/wp-content/uploads/2020/02/Screen-Shot-2020-02-24-at-10.49.58-am-1.png"},{title:"Meet me Halfway",artist:"Black Eyed Peas ",audioSrc:n(114).default,image:"https://img.discogs.com/AFV0StPbOmx8FlAgEevc-mitHFQ=/fit-in/600x527/filters:strip_icc():format(jpeg):mode_rgb():quality(90)/discogs-images/R-5063718-1383504969-6305.jpeg.jpg"},{title:"Shadowplay",artist:"The Killers",audioSrc:n(115).default,image:"https://upload.wikimedia.org/wikipedia/en/thumb/6/6c/Shadowplay_%28The_Killers_song%29_cover.jpg/220px-Shadowplay_%28The_Killers_song%29_cover.jpg"}],Gt=(n(55),function(){var t=Object(i.useState)(0),e=Object(u.a)(t,2),n=e[0],a=e[1],r=Object(i.useState)(0),c=Object(u.a)(r,2),s=c[0],o=c[1],l=Object(i.useState)(!1),d=Object(u.a)(l,2),f=d[0],h=d[1],b=Bt[n],m=b.title,p=b.artist,j=b.image,v=b.audioSrc,O=Object(i.useRef)(new Audio(v)),x=Object(i.useRef)(0),w=Object(i.useRef)(!1),y=O.current.duration,k=y?"".concat(s/y*100,"%"):"0%",N="\n    -webkit-gradient(linear, 0% 0%, 100% 0%, color-stop(".concat(k,", #fff), color-stop(").concat(k,", #777))\n  "),C=function(){clearInterval(x.current),x.current=setInterval((function(){O.current.ended?E():o(O.current.currentTime)}))},S=function(){f||h(!0),C()},E=function(){a(n<Bt.length-1?n+1:0)};return Object(i.useEffect)((function(){f?(O.current.play(),C()):O.current.pause()}),[f]),Object(i.useEffect)((function(){O.current.pause(),O.current=new Audio(v),o(O.current.currentTime),w.current?(O.current.play(),h(!0),C()):w.current=!0}),[n]),Object(i.useEffect)((function(){return function(){O.current.pause(),clearInterval(x.current)}}),[]),Object(g.jsxs)("div",{className:"audio-player",children:[Object(g.jsxs)("div",{className:"track-info",children:[Object(g.jsx)("img",{className:"artwork",src:j,alt:"track artwork for ".concat(m," by ").concat(p)}),Object(g.jsx)("h3",{className:"title",children:m}),Object(g.jsx)("h4",{className:"artist",children:p}),Object(g.jsx)("hr",{className:"line-breaker"}),Object(g.jsx)(zt,{className:"audio-controls",isPlaying:f,onPrevClick:function(){a(n-1<0?Bt.length-1:n-1)},onNextClick:E,onPlayPauseClick:h})]}),Object(g.jsx)("hr",{className:"line-breaker"}),Object(g.jsx)("input",{type:"range",value:s,step:"1",min:"0",max:y||"".concat(y),className:"progress",onChange:function(t){return e=t.target.value,clearInterval(x.current),O.current.currentTime=e,void o(O.current.currentTime);var e},onMouseUp:S,onKeyUp:S,style:{background:N}})]})});function Ht(t){t.synth;return Object(g.jsx)(Gt,{})}var Zt=new O("AudioPlayer",(function(t){var e=t.synth;return t.setSynth,Object(g.jsx)("div",{className:"mp3-player",children:Object(g.jsx)(Ht,{synth:e})})})),Ft=Object(p.a)([Z,J,ct,bt,Zt]),Kt=Object(p.a)([F,Q,st,mt]),Wt=Object(p.b)({instruments:Ft,visualizers:Kt}),Ut=n(10),Jt=n(27),qt=n(63),Yt=["error"],Qt={transports:["websocket"],path:"/ws",autoConnect:!0,reconnection:!0,timeout:1e4},Xt=1;function $t(t,e,n){return te.apply(this,arguments)}function te(){return(te=Object(l.a)(o.a.mark((function t(e,n,i){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Xt++,t.abrupt("return",new Promise((function(t,r){e.once("".concat(n,".").concat(a),(function(e){var n=e.error,i=Object(Jt.a)(e,Yt);i?t(i):r(n)})),e.emit(n,Object(Ut.a)({_id:a},i))})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n(120);var ee=function(){var t=Object(i.useReducer)(v,Wt),e=Object(u.a)(t,2),n=e[0],a=e[1];return Object(i.useEffect)((function(){!function(t,e){var n=Object(qt.a)("ws://localhost:3001",Qt);n.on("connect",(function(){return t(n)})),n.on("disconnect",e)}(function(){var t=Object(l.a)(o.a.mark((function t(e){var n,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(new j("SET_SOCKET",{socket:e})),t.next=3,$t(e,"get_songs",{});case 3:n=t.sent,i=n.songs,a(new j("SET_SONGS",{songs:i}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(){a(new j("DELETE_SOCKET"))}))}),[]),Object(g.jsx)(d.a,{children:Object(g.jsxs)(f.c,{children:[Object(g.jsx)(f.a,{path:"/",children:Object(g.jsx)(B,{state:n,dispatch:a})}),Object(g.jsx)(f.a,{path:"/:instrument",children:Object(g.jsx)(B,{state:n,dispatch:a})}),Object(g.jsx)(f.a,{path:"*",children:Object(g.jsx)("div",{children:"404"})})]})})};n(121);var ne=document.getElementById("root");c.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(ee,{})}),ne,(function(){console.log("React has loaded.")}))}]),[[122,1,2]]]);
//# sourceMappingURL=main.8ceaf1bf.chunk.js.map