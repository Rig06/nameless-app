{"version":3,"sources":["sounds/boom.wav","sounds/clap.wav","sounds/hihat.wav","sounds/kick.wav","sounds/openhat.wav","sounds/ride.wav","sounds/snare.wav","sounds/tom.wav","img/bassboom.png","img/drumkick.png","img/clapstack.png","img/hihat.png","sounds/tink.wav","img/tiks.png","img/openhihat.png","img/ridecymbal.png","img/snare.png","img/floortomedt.png","sounds/mp3s/AftertheLove.mp3","sounds/mp3s/ARushOfBloodToTheHead.m4a","sounds/mp3s/PrettyThoughts.mp3","sounds/mp3s/BarTender.mp3","sounds/mp3s/RockThatBody.mp3","sounds/mp3s/SmackThat.mp3","sounds/mp3s/HereisGone.mp3","sounds/mp3s/InBloom.m4a","sounds/mp3s/MeetMeHalfway.mp3","sounds/mp3s/Shadowplay.mp3","Reducer.tsx","Instruments.tsx","SideNav.tsx","Visualizers.tsx","MainPage.tsx","instruments/Piano.tsx","visualizers/Waveform.tsx","components/Drum.tsx","instruments/Rig06.tsx","visualizers/Rig06.tsx","instruments/ccirini.tsx","visualizers/ccirini.tsx","instruments/yujarvis08.tsx","Assets/play.svg","visualizers/yujarvis08.tsx","Assets/pause.svg","Assets/next.svg","Assets/prev.svg","components/AudioControls.tsx","components/Songs.tsx","components/AudioPlayer.tsx","instruments/AudioPlayerMain.tsx","State.tsx","Socket.tsx","App.tsx","index.tsx"],"names":["DispatchAction","type","args","this","fromJS","appReducer","state","action","console","debug","newState","oldSocket","get","close","set","delete","songs","notes","find","s","pathname","getIn","search","instrumentName","substring","visualizerName","URLSearchParams","instruments","visualizers","instrument","i","name","visualizer","v","error","toJS","update","Instrument","component","TopNav","className","InstrumentContainer","dispatch","InstrumentComponent","useState","Tone","oscillator","toDestination","synth","setSynth","useEffect","eachNote","split","noteObjs","map","note","idx","time","velocity","value","triggerAttackRelease","length","start","cancel","style","top","Section","title","children","RadioButton","to","text","active","onClick","classNames","fw7","Instruments","activeInstrument","location","useLocation","log","Visualizers","activeVisualizer","Songs","List","song","id","SideNav","Visualizer","draw","VisualizerContainer","analyzer","useMemo","onResize","useCallback","p5","width","window","innerWidth","height","innerHeight","resizeCanvas","volume","connect","disconnect","setup","canvasParentRef","createCanvas","parent","windowResized","InstrumentPanel","VisualizerPanel","InstrumentAndVisualizer","left","ShowWelcome","MainPage","isWelcome","PianoKey","minor","index","onMouseDown","triggerAttack","onMouseUp","triggerRelease","zIndex","marginLeft","PianoType","PianoInstrument","keys","oscillators","require","default","Range","octave","key","isMinor","indexOf","o","newType","oldSynth","WaveformVisualizer","dim","Math","min","background","strokeWeight","stroke","noFill","values","getValue","beginShape","amplitude","x","y","vertex","endShape","Drum","props","playing","setPlaying","play","sound","autostart","setTimeout","document","addEventListener","e","toLowerCase","letter","Button","src","img","alt","DrumKit","sounds","Drumkit","InitRadius","MiniTron","angleMode","translate","setUp","CircleWave","darwEffect","WaveBars","drawBars","DrawRec","drawRect","box_x_pos","box_y_pos","drawRecMidRect","noStroke","amp","bar_x","bar_height","fill","rect","color","randomColor","PI","shear","x_pos","y_pos","border","shearX","waveValues","radius","fill_color","circum_w","shape_weight","canvas_pos_x","canvas_pos_y","floor","r","sin","cos","random","limiter","filter","pSynth","GuitarString","stringName","stringIndex","transpositionalOffset","activeNotesProp","fretsProp","currentOctave","fret","fretStyle","transpose","toNote","maxPolyphony","envelope","attack","decay","sustain","GuitarInstrument","numberOfFrets","frets","guitarStrings","offset","str","activeNotes","paddingRight","fontSize","alignItems","toString","padStart","releaseAll","unsync","triggeredNotes","n","strum","stop","sync","pluck","ccirini","rectMode","CENTER","particles","push","rotate","frameCount","circle","pop","asynth","freeverb","dampening","harmonicity","XylophoneKey","backgroundColor","margin","display","borderRadius","marginTop","_path","XylophoneInstrument","Vis","angle","strokeJoin","smooth","tan","_excluded","_extends","Object","assign","target","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgPlay","_ref","svgRef","titleId","viewBox","xmlns","ref","fillRule","clipRule","d","ForwardRef","SvgPause","SvgNext","SvgPrev","AudioControls","isPlaying","onPlayPauseClick","onPrevClick","onNextClick","artist","audioSrc","image","AudioPlayer","trackIndex","setTrackIndex","trackProgress","setTrackProgress","setIsPlaying","audioRef","useRef","Audio","intervalRef","isReady","duration","current","currentPercentage","trackStyling","startTimer","clearInterval","setInterval","ended","toNextTrack","currentTime","onScrubEnd","pause","step","max","onChange","onKeyUp","Audioplayer","defaultState","Map","SOCKET_OPTS","transports","path","autoConnect","reconnection","timeout","idCounter","send","socket","msg","a","_id","Promise","resolve","reject","once","resp","success","emit","App","useReducer","onConnect","onDisconnect","newSocket","on","initializeSocket","rootEl","getElementById","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.8ceaf1bf.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/boom.d89f41a5.wav\";","export default __webpack_public_path__ + \"static/media/clap.eb738e52.wav\";","export default __webpack_public_path__ + \"static/media/hihat.0273528c.wav\";","export default __webpack_public_path__ + \"static/media/kick.1d842c55.wav\";","export default __webpack_public_path__ + \"static/media/openhat.482e5231.wav\";","export default __webpack_public_path__ + \"static/media/ride.44e63854.wav\";","export default __webpack_public_path__ + \"static/media/snare.3aa3f943.wav\";","export default __webpack_public_path__ + \"static/media/tom.52db9c23.wav\";","export default __webpack_public_path__ + \"static/media/bassboom.2ee7957e.png\";","export default __webpack_public_path__ + \"static/media/drumkick.dadd145b.png\";","export default __webpack_public_path__ + \"static/media/clapstack.88a15df6.png\";","export default __webpack_public_path__ + \"static/media/hihat.a2693f3c.png\";","export default __webpack_public_path__ + \"static/media/tink.5b878d5d.wav\";","export default __webpack_public_path__ + \"static/media/tiks.8ea91522.png\";","export default __webpack_public_path__ + \"static/media/openhihat.ec7b2dc7.png\";","export default __webpack_public_path__ + \"static/media/ridecymbal.adb0bce4.png\";","export default __webpack_public_path__ + \"static/media/snare.35479f84.png\";","export default __webpack_public_path__ + \"static/media/floortomedt.c3273769.png\";","export default __webpack_public_path__ + \"static/media/AftertheLove.bfa92778.mp3\";","export default __webpack_public_path__ + \"static/media/ARushOfBloodToTheHead.c3739d79.m4a\";","export default __webpack_public_path__ + \"static/media/PrettyThoughts.70f6cefd.mp3\";","export default __webpack_public_path__ + \"static/media/BarTender.0c0a7234.mp3\";","export default __webpack_public_path__ + \"static/media/RockThatBody.de3acd76.mp3\";","export default __webpack_public_path__ + \"static/media/SmackThat.e50d5b18.mp3\";","export default __webpack_public_path__ + \"static/media/HereisGone.d7343e63.mp3\";","export default __webpack_public_path__ + \"static/media/InBloom.fbf438e6.m4a\";","export default __webpack_public_path__ + \"static/media/MeetMeHalfway.b6634374.mp3\";","export default __webpack_public_path__ + \"static/media/Shadowplay.57040174.mp3\";","// 3rd party\nimport { List, Map, fromJS } from 'immutable';\n\n// project deps\nimport { Instrument } from './Instruments';\nimport { Visualizer } from './Visualizers';\nimport { AppState } from './State';\n\n/** ------------------------------------------------------------------------ **\n * All user input is handled by DispatchAction.\n ** ------------------------------------------------------------------------ */\n\n/**\n * Observation: pure map (compare and contrast with impure map)\n *\n * 'instrument': Instrument\n * 'visualizer': Visualizer\n * 'songs': List<string>\n * 'notes': List<{id: number, songTitle: string, notes: string}>\n */\ntype DispatchArgs = {\n  [key: string]: any;\n};\n\n// A simple algebraic data-type with string literal types\ntype DispatchActionType =\n  | 'SET_SOCKET'\n  | 'DELETE_SOCKET'\n  | 'SET_SONGS'\n  | 'PLAY_SONG'\n  | 'STOP_SONG'\n  | 'SET_LOCATION';\n\nexport class DispatchAction {\n  readonly type: DispatchActionType;\n  readonly args: Map<string, any>;\n\n  constructor(type: DispatchActionType, args?: DispatchArgs) {\n    this.type = type;\n    this.args = fromJS(args) as Map<string, any>;\n  }\n}\n\n/** ------------------------------------------------------------------------ **\n * Top-level application reducer.\n ** ------------------------------------------------------------------------ */\n\nexport function appReducer(state: AppState, action: DispatchAction): AppState {\n  const { type, args } = action;\n\n  console.debug(`${type}`);\n\n  // Question: Does this function remind of you registering callbacks?\n  const newState = (() => {\n    switch (type) {\n      case 'SET_SOCKET': {\n        const oldSocket = state.get('socket');\n        if (oldSocket) {\n          oldSocket.close();\n        }\n\n        return state.set('socket', args.get('socket'));\n      }\n      case 'DELETE_SOCKET': {\n        return state.delete('socket');\n      }\n      case 'SET_SONGS': {\n        const songs = args.get('songs');\n        return state.set('songs', songs);\n      }\n      case 'PLAY_SONG': {\n        const notes = state\n          .get('songs')\n          .find((s: any) => s.get('id') === args.get('id'))\n          .get('notes');\n        return state.set('notes', notes);\n      }\n      case 'STOP_SONG': {\n        return state.delete('notes');\n      }\n      case 'SET_LOCATION': {\n        const pathname = args.getIn(['location', 'pathname'], '') as string;\n        const search = args.getIn(['location', 'search'], '') as string;\n\n        const instrumentName: string = pathname.substring(1);\n        const visualizerName: string =\n          new URLSearchParams(search.substring(1)).get('visualizer') ?? '';\n        const instruments: List<Instrument> = state.get('instruments');\n        const visualizers: List<Visualizer> = state.get('visualizers');\n\n        const instrument = instruments.find(i => i.name === instrumentName);\n        const visualizer = visualizers.find(v => v.name === visualizerName);\n\n        return state\n          .set('instrument', instrument)\n          .set('visualizer', visualizer);\n      }\n      default:\n        console.error(`type unknown: ${type}\\n`, args.toJS());\n        return state;\n    }\n  })();\n\n  console.debug(newState.update('socket', s => (s ? '[socket]' : s)).toJS());\n\n  return newState;\n}\n","// 3rd party library imports\nimport React, { useState, useEffect } from 'react';\nimport * as Tone from 'tone';\n\n// project imports\nimport { DispatchAction } from './Reducer';\nimport { AppState } from './State';\nimport './index.css'\n\n/** ------------------------------------------------------------------------ **\n * Contains implementation of an Instruments.\n ** ------------------------------------------------------------------------ */\n\nexport interface InstrumentProps {\n  state: AppState;\n  dispatch: React.Dispatch<DispatchAction>;\n  name: string;\n  synth: Tone.Synth;\n  setSynth: (f: (oldSynth: Tone.Synth) => Tone.Synth) => void;\n}\n\nexport class Instrument {\n  public readonly name: string;\n  public readonly component: React.FC<InstrumentProps>;\n\n  constructor(name: string, component: React.FC<InstrumentProps>) {\n    this.name = name;\n    this.component = component;\n  }\n}\n\nfunction TopNav({ name }: { name: string }) {\n  return (\n    <div\n      className={\n        'w-100 h3 bb b--light-grey flex justify-between items-center ph4'\n      }\n    >\n      <div><h3>{name}</h3></div>\n    </div>\n  );\n}\n\ninterface InstrumentContainerProps {\n  state: AppState;\n  dispatch: React.Dispatch<DispatchAction>;\n  instrument: Instrument;\n}\n\nexport const InstrumentContainer: React.FC<InstrumentContainerProps> = ({\n  instrument,\n  state,\n  dispatch,\n}: InstrumentContainerProps) => {\n  const InstrumentComponent = instrument.component;\n  const [synth, setSynth] = useState(\n    new Tone.Synth({\n      oscillator: { type: 'sine' } as Tone.OmniOscillatorOptions,\n    }).toDestination(),\n  );\n\n  const notes = state.get('notes');\n\n  useEffect(() => {\n    if (notes && synth) {\n      let eachNote = notes.split(' ');\n      let noteObjs = eachNote.map((note: string, idx: number) => ({\n        idx,\n        time: `+${idx / 4}`,\n        note,\n        velocity: 1,\n      }));\n\n      new Tone.Part((time, value) => {\n        // the value is an object which contains both the note and the velocity\n        synth.triggerAttackRelease(value.note, '4n', time, value.velocity);\n        if (value.idx === eachNote.length - 1) {\n          dispatch(new DispatchAction('STOP_SONG'));\n        }\n      }, noteObjs).start(0);\n\n      Tone.Transport.start();\n\n      return () => {\n        Tone.Transport.cancel();\n      };\n    }\n\n    return () => {};\n  }, [notes, synth, dispatch]);\n\n  return (\n    <div className={'top-bar'}>\n      <TopNav name={instrument.name} />\t\n      <div\n        className={'instrument-canvas'}\n        style={{ top: '4rem' }}\n      >\n        <InstrumentComponent\n          name={instrument.name}\n          state={state}\n          dispatch={dispatch}\n          synth={synth}\n          setSynth={setSynth}\n        />\n      </div>\n    </div>\n  );\n};\n","// 3rd party library imports\nimport classNames from 'classnames';\nimport { List } from 'immutable';\nimport React from 'react';\nimport { useLocation, Link } from 'react-router-dom';\nimport {\n  RadioButton20,\n  RadioButtonChecked20,\n  Music20,\n} from '@carbon/icons-react';\n\n// project imports\nimport { DispatchAction } from './Reducer';\nimport { AppState } from './State';\nimport { Instrument } from './Instruments';\nimport { Visualizer } from './Visualizers';\n\n\n/** ------------------------------------------------------------------------ **\n * All the components in the side navigation.\n ** ------------------------------------------------------------------------ */\n\ninterface SideNavProps {\n  state: AppState;\n  dispatch: React.Dispatch<DispatchAction>;\n}\n\nconst Section: React.FC<{ title: string }> = ({ title, children }) => {\n  return (\n    <div className=\"flex flex-column h-25 bb b--light-gray pa3\">\n      <div className=\"fw7 mb2\">{title} </div>\n      <div className=\"flex-auto overflow-scroll\">{children}</div>\n    </div>\n  );\n};\n\ninterface RadioButtonProps {\n  to: any,\n  text: string,\n  active: boolean,\n  onClick: () => void\n}\n\nfunction RadioButton({ to, text, active, onClick }: RadioButtonProps): JSX.Element {\n  return (\n    <Link to={to} className=\"no-underline\">\n      <div\n        className={classNames('f6 flex items-center black', { fw7: active })}\n        onClick={onClick}\n      >\n        {active ? (\n          <RadioButtonChecked20 className=\"mr1\" />\n        ) : (\n          <RadioButton20 className=\"mr1\" />\n        )}\n        <div className=\"dim\">{text}</div>\n      </div>\n    </Link>\n  );\n}\n\nfunction Instruments({ state }: SideNavProps): JSX.Element {\n  const instruments: List<Instrument> = state.get('instruments');\n  const activeInstrument = state.get('instrument')?.name;\n  const location = useLocation();\n\n  return (\n    <Section title=\"Instruments\">\n      {instruments.map(i => (\n        <RadioButton\n          key={i.name}\n          to={`/${i.name}${location.search}`}\n          text={i.name}\n          active={i.name === activeInstrument}\n          onClick={() => console.log(i.name)}\n        />\n      ))}\n    </Section>\n  );\n}\n\nfunction Visualizers({ state }: SideNavProps): JSX.Element {\n  const visualizers: List<Visualizer> = state.get('visualizers');\n  const activeVisualizer = state.get('visualizer')?.name;\n  const location = useLocation();\n\n  return (\n    <Section title=\"Visualizers\">\n      {visualizers.map(v => (\n        <RadioButton\n          key={v.name}\n          to={{\n            pathname: location.pathname,\n            search: `?visualizer=${v.name}`,\n          }}\n          text={v.name}\n          active={v.name === activeVisualizer}\n          onClick={() => console.log(v.name)}\n        />\n      ))}\n    </Section>\n  );\n}\n\nfunction Songs({ state, dispatch }: SideNavProps): JSX.Element {\n  const songs: List<any> = state.get('songs', List());\n  return (\n    <Section title=\"Playlist\">\n      <button>Show All</button>\n      <button>By Artist</button>\n      {songs.map(song => (\n        <div\n          key={song.get('id')}\n          className=\"f6 pointer underline flex items-center no-underline i dim\"\n          onClick={() =>\n            dispatch(new DispatchAction('PLAY_SONG', { id: song.get('id') }))\n          }\n        >\n          <Music20 className=\"mr1\" />\n          <div>\n          <text className='b'>{song.get('artist')}</text>\n          <text>-</text>\n          <text>{song.get('songTitle')}</text>\n          </div>\n        </div>\n      ))}\n    </Section>\n  );\n}\n\nexport function SideNav({ state, dispatch }: SideNavProps): JSX.Element {\n  return (\n    <div className=\"absolute top-0 left-0 bottom-0 w5 z-1 shadow-1 bg-white flex flex-column\">\n      <div className=\"h3 fw7 f5 flex items-center pl3 bb b--light-gray\">\n        Nameless App\n      </div>\n      <div className=\"flex-auto\">\n        <Instruments state={state} dispatch={dispatch} />\n        <Visualizers state={state} dispatch={dispatch} />\n        <Songs state={state} dispatch={dispatch} />\n      </div>\n    </div>\n  );\n}\n","// 3rd party library imports\nimport * as Tone from 'tone';\nimport Sketch from 'react-p5';\nimport P5 from 'p5';\nimport React, { useEffect, useMemo, useCallback } from 'react';\n\ntype VisualizerDrawer = (p5: P5, analyzer: Tone.Analyser) => void;\n\ninterface VisualizerContainerProps {\n  visualizer: Visualizer;\n}\n\nexport class Visualizer {\n  public readonly name: string;\n  public readonly draw: VisualizerDrawer;\n\n  constructor(name: string, draw: VisualizerDrawer) {\n    this.name = name;\n    this.draw = draw;\n  }\n}\n\nexport function VisualizerContainer({ visualizer }: VisualizerContainerProps) {\n  const { name, draw } = visualizer;\n\n  const analyzer: Tone.Analyser = useMemo(\n    () => new Tone.Analyser('waveform', 256),\n    [],\n  );\n\n  const onResize = useCallback((p5: P5) => {\n    const width = window.innerWidth;\n    const height = window.innerHeight / 2;\n\n    p5.resizeCanvas(width, height, false);\n  }, []);\n\n  useEffect(() => {\n    Tone.getDestination().volume.value = -5;\n    Tone.getDestination().connect(analyzer);\n    return () => {\n      Tone.getDestination().disconnect(analyzer);\n    };\n  }, [analyzer]);\n\n  const setup = (p5: P5, canvasParentRef: Element) => {\n    const width = window.innerWidth;\n    const height = window.innerHeight / 2;\n    p5.createCanvas(width, height).parent(canvasParentRef);\n  };\n\n  return (\n    <div className={'bg-black absolute bottom-0 right-0 left-0 h-50'}>\n      <div className={'z-1 absolute left-0 top-0 pa4 white f5'}>{name}</div>\n      <Sketch\n        setup={setup}\n        draw={p5 => draw(p5, analyzer)}\n        windowResized={onResize}\n      />\n    </div>\n  );\n}\n","// 3rd party library imports\nimport React, { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport * as Tone from 'tone';\nimport { Music32 } from '@carbon/icons-react';\n\n// project imports\nimport { InstrumentContainer } from './Instruments';\nimport { AppState } from './State';\nimport { DispatchAction } from './Reducer';\nimport { SideNav } from './SideNav';\nimport { VisualizerContainer } from './Visualizers';\n\ntype PanelProps = {\n  state: AppState;\n  dispatch: React.Dispatch<DispatchAction>;\n};\n\n/** ------------------------------------------------------------------------ **\n * Instrument and visualizer component\n ** ------------------------------------------------------------------------ */\n\nfunction InstrumentPanel({ state, dispatch }: PanelProps): JSX.Element {\n  /**\n   * This React component is the top-level for the instrument.\n   */\n  const instrument = state.get('instrument');\n\n  return (\n    <div>\n      {instrument && (\n        <InstrumentContainer\n          state={state}\n          dispatch={dispatch}\n          instrument={instrument}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction VisualizerPanel({ state }: PanelProps): JSX.Element {\n  /**\n   * This React component is the top-level for the visualizer.\n   */\n  const visualizer = state.get('visualizer');\n\n  return (\n    <div>\n      {visualizer && (\n        <VisualizerContainer key={visualizer.name} visualizer={visualizer} />\n      )}\n    </div>\n  );\n}\n\nfunction InstrumentAndVisualizer({ state, dispatch }: PanelProps): JSX.Element {\n  /**\n   * This React component bundles the instrument panel and visualizer panel together.\n   */\n\n  return (\n    <div\n      className=\"absolute right-0 bottom-0 top-0 flex flex-column\"\n      style={{ left: '16rem' }}\n    >\n      <InstrumentPanel state={state} dispatch={dispatch} />\n      <VisualizerPanel state={state} dispatch={dispatch} />\n    </div>\n  );\n}\n\nfunction ShowWelcome(): JSX.Element {\n  return (\n    <div\n      className=\"absolute right-0 bottom-0 top-0 flex flex-column items-center justify-center\"\n      style={{ left: '16rem' }}\n    >\n      <div className=\"mw6 lh-copy mb4\">\n        <Music32 />\n        <div className=\"f3 fw7 mb2\">Welcome to the case study.</div>\n        <div className=\"f4 mb3\">\n          Select an instrument and a visualizer on the left to serve some fresh\n          beats.\n        </div>\n        <div className=\"f5\">The UI is yours to design. Express yourself.</div>\n      </div>\n    </div>\n  );\n}\n\n/** ------------------------------------------------------------------------ **\n * Main page component\n ** ------------------------------------------------------------------------ */\n\nexport function MainPage({ state, dispatch }: PanelProps): JSX.Element {\n  /**\n   * This React component bundles together the entire main page.\n   */\n\n  const location = useLocation();\n  const isWelcome = !state.get('instrument');\n  console.log('INSTRUMENT', isWelcome);\n\n  useEffect(() => {\n    dispatch(new DispatchAction('SET_LOCATION', { location }));\n  }, [dispatch, location]);\n\n  return (\n    <div\n      className=\"fixed top-0 left-0 h-100 w-100 bg-white\"\n      onClick={() => Tone.start()}\n    >\n      <SideNav state={state} dispatch={dispatch} />\n      {isWelcome ? (\n        <ShowWelcome />\n      ) : (\n        <InstrumentAndVisualizer state={state} dispatch={dispatch} />\n      )}\n    </div>\n  );\n}\n","// 3rd party library imports\nimport * as Tone from 'tone';\nimport classNames from 'classnames';\nimport { List, Range } from 'immutable';\nimport React from 'react';\n\n// project imports\nimport { Instrument, InstrumentProps } from '../Instruments';\n\n/** ------------------------------------------------------------------------ **\n * Contains implementation of components for Piano.\n ** ------------------------------------------------------------------------ */\n\ninterface PianoKeyProps {\n  note: string; // C, Db, D, Eb, E, F, Gb, G, Ab, A, Bb, B\n  duration?: string;\n  synth?: Tone.Synth; // Contains library code for making sound\n  minor?: boolean; // True if minor key, false if major key\n  octave: number;\n  index: number; // octave + index together give a location for the piano key\n}\n\nexport function PianoKey({\n  note,\n  synth,\n  minor,\n  index,\n}: PianoKeyProps): JSX.Element {\n  /**\n   * This React component corresponds to either a major or minor key in the piano.\n   * See `PianoKeyWithoutJSX` for the React component without JSX.\n   */\n  return (\n    // Observations:\n    // 1. The JSX refers to the HTML-looking syntax within TypeScript.\n    // 2. The JSX will be **transpiled** into the corresponding `React.createElement` library call.\n    // 3. The curly braces `{` and `}` should remind you of string interpolation.\n    <div\n      onMouseDown={() => synth?.triggerAttack(`${note}`)} // Question: what is `onMouseDown`?\n      onMouseUp={() => synth?.triggerRelease('+0.25')} // Question: what is `onMouseUp`?\n      className={classNames('ba pointer absolute dim', {\n        'bg-black black h3': minor, // minor keys are black\n        'black bg-white h4': !minor, // major keys are white\n      })}\n      style={{\n        // CSS\n        top: 0,\n        left: `${index * 2}rem`,\n        zIndex: minor ? 1 : 0,\n        width: minor ? '1.5rem' : '2rem',\n        marginLeft: minor ? '0.25rem' : 0,\n      }}\n    ></div>\n  );\n}\n//-------------------------------------------------------------------------------------\n// eslint-disable-next-line\nfunction PianoKeyWithoutJSX({\n  note,\n  synth,\n  minor,\n  index,\n}: PianoKeyProps): JSX.Element {\n  /**\n   * This React component for pedagogical purposes.\n   * See `PianoKey` for the React component with JSX (JavaScript XML).\n   */\n  return React.createElement(\n    'div',\n    {\n      onMouseDown: () => synth?.triggerAttack(`${note}`),\n      onMouseUp: () => synth?.triggerRelease('+0.25'),\n      className: classNames('ba pointer absolute dim', {\n        'bg-black black h3': minor,\n        'black bg-white h4': !minor,\n      }),\n      style: {\n        top: 0,\n        left: `${index * 2}rem`,\n        zIndex: minor ? 1 : 0,\n        width: minor ? '1.5rem' : '2rem',\n        marginLeft: minor ? '0.25rem' : 0,\n      },\n    },\n    [],\n  );\n}//-------------------------------------------------------------------------------------\n\nfunction PianoType({ title, onClick, active }: any): JSX.Element {\n  return (\n    <div\n      onClick={onClick}\n      className={classNames('dim pointer ph2 pv1 ba mr2 br1 fw7 bw1', {\n        'b--black purple': active,\n        'gray b--light-black': !active,\n      })}\n    >\n      {title}\n    </div>\n  );\n}\n\nfunction Piano({ synth, setSynth }: InstrumentProps): JSX.Element {\n  const keys = List([\n    { note: 'C', idx: 0 },\n    { note: 'Db', idx: 0.5 },\n    { note: 'D', idx: 1 },\n    { note: 'Eb', idx: 1.5 },\n    { note: 'E', idx: 2 },\n    { note: 'F', idx: 3 },\n    { note: 'Gb', idx: 3.5 },\n    { note: 'G', idx: 4 },\n    { note: 'Ab', idx: 4.5 },\n    { note: 'A', idx: 5 },\n    { note: 'Bb', idx: 5.5 },\n    { note: 'B', idx: 6 },\n  ]);\n\n\n  const drumSound = List([\n    { note: require(\"../sounds/boom.wav\").default},\n    { note: require(\"../sounds/clap.wav\").default},\n    { note: require(\"../sounds/hihat.wav\").default},\n    { note: require(\"../sounds/kick.wav\").default},\n    { note: require(\"../sounds/openhat.wav\").default },\n    { note: require(\"../sounds/ride.wav\").default},\n    { note: require(\"../sounds/snare.wav\").default },\n    { note: require(\"../sounds/tom.wav\").default},\n\n  ]);\n\n  const setOscillator = (newType: Tone.ToneOscillatorType) => {\n    setSynth(oldSynth => {\n      oldSynth.disconnect();\n\n      return new Tone.Synth({\n        oscillator: { type: newType } as Tone.OmniOscillatorOptions,\n      }).toDestination();\n    });\n  };\n\n  const oscillators: List<OscillatorType> = List([\n    'sine',\n    'sawtooth',\n    'square',\n    'triangle',\n    'fmsine',\n    'fmsawtooth',\n    'fmtriangle',\n    'amsine',\n    'amsawtooth',\n    'amtriangle',\n  ]) as List<OscillatorType>;\n\n\n  \n\n  return (\n    <div className=\"pv4\">\n      <div className=\"relative dib h4 w-100 ml4\">\n        {Range(2, 7).map(octave =>\n          keys.map(key => {\n            const isMinor = key.note.indexOf('b') !== -1;\n            const note = `${key.note}${octave}`;\n           \n            return (\n              <PianoKey\n                key={note} //react key\n                note={note}\n                synth={synth}\n                minor={isMinor}\n                octave={octave}\n                index={(octave - 2) * 7 + key.idx}\n              />\n            );\n\n\n          }),\n        )}\n      </div>\n\n\n      <div className={'pl4 pt4 flex'}>\n        {oscillators.map(o => (\n          <PianoType\n            key={o}\n            title={o}\n            onClick={() => setOscillator(o)}\n            active={synth?.oscillator.type === o}\n          />\n        ))}\n      </div>\n\n      \n    </div>\n  );\n}\n\nexport const PianoInstrument = new Instrument('Piano', Piano);\n","// 3rd party library imports\nimport P5 from 'p5';\nimport * as Tone from 'tone';\n\n// project imports\nimport { Visualizer } from '../Visualizers';\n\n\nexport const WaveformVisualizer = new Visualizer(\n  'Waveform',\n  (p5: P5, analyzer: Tone.Analyser) => {\n    const width = window.innerWidth;\n    const height = window.innerHeight / 2;\n    const dim = Math.min(width, height);\n\n    p5.background(0, 0, 0, 255);\n\n    p5.strokeWeight(dim * 0.01);\n    p5.stroke(255, 255, 255, 255);\n    p5.noFill();\n\n    const values = analyzer.getValue();\n    p5.beginShape();\n    for (let i = 0; i < values.length; i++) {\n      const amplitude = values[i] as number;\n      const x = p5.map(i, 0, values.length - 1, 0, width);\n      const y = height / 2 + amplitude * height;\n      // Place vertex\n      p5.vertex(x, y);\n    }\n    p5.endShape();\n  },\n);\n","import {useEffect, useState } from \"react\";\nimport * as Tone from 'tone';\nimport './Drum.css'\n\nfunction Drum(props: { sound: string; letter: string; img: string}) {\n\t    const [playing, setPlaying] = useState(false);\n\t    const play = () => {\n\t\tsetPlaying(true);\t\n\t\tconst player = new Tone.Player(props.sound).toDestination();\n\t    player.autostart = true;\n\t//\tplayer.reverse = true;\n  //\tconsole.log(playing)\n\t\tsetTimeout(() => {\t\n\t\t\tsetPlaying(false);\n\t\t}, 20);\n\t};\n\tuseEffect(() => {\n\t\tdocument.addEventListener(\"keydown\", (e) => {\n\t\t\tif (e.key.toLowerCase() ===  props.letter.toLowerCase()) {\n\t\t\t\tplay();\n\t\t\t}\n\t\t});\n\t});\n\n\n\tconst Button = ({ children }: any): JSX.Element =>{  \n\t\treturn <button id=\"drum-instrument-key\">\n\t\t\t<img src={props.img} alt='' height={85} width={90}/> \n\t\t\t<div className='key-kbd'><kbd>{props.letter} </kbd></div>\n\t\t</button>;\n\t  };\n\t\n\treturn (\n\t\t<div className={`drum ${playing ? \"playing\" : \"\"}`} onClick={play}>\n\t\t\t<Button className=\"ripple\"/>\n\t\t</div>\n\t);\n}\n\nexport default Drum;\n","// 3rd party library imports\nimport * as Tone from 'tone';\nimport React, {useState} from 'react';\nimport Drum from \"../components/Drum\";\nimport '../components/Drum.css'\n// project imports\nimport { Instrument, InstrumentProps } from '../Instruments';\ninterface DrumKeyProps {\n  note: string;\n  synth?: Tone.Synth; // Contains library code for making sound\n}\n\nexport function DrumKit({\nnote,\nsynth\n}: DrumKeyProps): JSX.Element {\n  const [sounds] = useState([\n\t\t{\n\t\t\tsound: require(\"../sounds/boom.wav\").default,\n\t\t\tkey: \"A\",\n      img: require('../img/bassboom.png').default\n\t\t},\n    {\n\t\t\tsound: require(\"../sounds/kick.wav\").default,\n\t\t\tkey: \"S\",\n      img: require('../img/drumkick.png').default\n\t\t},\n\t\t{\n\t\t\tsound: require(\"../sounds/clap.wav\").default,\n\t\t\tkey: \"D\",\n      img: require('../img/clapstack.png').default\n\t\t},\n\t\t{\n\t\t\tsound: require(\"../sounds/hihat.wav\").default,\n\t\t\tkey: \"F\",\n      img: require('../img/hihat.png').default\n\t\t},\n    {\n\t\t\tsound: require(\"../sounds/tink.wav\").default,\n\t\t\tkey: \"G\",\n      img: require('../img/tiks.png').default\n\t\t},\n\n\t\t{\n\t\t\tsound: require(\"../sounds/openhat.wav\").default,\n\t\t\tkey: \"H\",\n      img: require('../img/openhihat.png').default\n\t\t},\n\t\t{\n\t\t\tsound: require(\"../sounds/ride.wav\").default,\n\t\t\tkey: \"J\",\n      img: require('../img/ridecymbal.png').default\n\t\t},\n\t\t{\n\t\t\tsound: require(\"../sounds/snare.wav\").default,\n\t\t\tkey: \"K\",\n      img: require('../img/snare.png').default\n\t\t},\n\t\t{\n\t\t\tsound: require(\"../sounds/tom.wav\").default,\n\t\t\tkey: \"L\",\n      img: require('../img/floortomedt.png').default\n\t\t},\n\t]);\n\t\n  return (\n\t\t<div className=\"drum-set\">\n\t\t\t<div className=\"drums\">\n\t\t\t\t{sounds.map((sound, i) => (\n\t\t\t\t\t<Drum img={sound.img}  key={i} letter={sound.key} sound={sound.sound}></Drum>  \n\t\t\t\t))}\n\t\t\t</div>\n      <div\n      onMouseDown={() => synth?.triggerAttack(`${note}`)} \n      onMouseUp={() => synth?.triggerRelease('+0.25')}>\n      </div>\n\n\t\t</div>\n\t);\n}\nfunction Piano({ synth, setSynth }: InstrumentProps): JSX.Element {\n  return (\n    <div className=\"pv4\">    \n      <div>\n      <DrumKit\n        note={''}\n        synth={synth}/>\n      </div>\n    </div>\n  );\n}// PIANO\nexport const Drumkit = new Instrument('Rig06', Piano);\n","// 3rd party library imports\nimport p5 from \"p5\";\nimport P5 from 'p5';\nimport * as Tone from 'tone'; // Waveform\n// project imports\nimport { Visualizer } from '../Visualizers';\n// Global vars\nvar amplitude: number;\n\n// Initial Position of glowing right circle O O\nconst INI_CIRCLE_POS_Y = 130;\nconst INI_CIRCLE_POS_X = 740;\nvar InitRadius = 150;\nconst CIRC_WEIGHT = 4.8;\n\nfunction setUp(p5: p5){\n  p5.angleMode('degrees')\n  p5.background(0)\n  p5.translate(INI_CIRCLE_POS_X, INI_CIRCLE_POS_Y);\n}\n\nexport const MiniTron = new Visualizer(\n'Rig06',  (p5: p5, analyzer: Tone.Analyser) => {\n  setUp(p5)\n\n  const cir_01 = new CircleWave(p5,  analyzer, InitRadius, [0, 0, 0] , CIRC_WEIGHT);\n  cir_01.darwEffect(0, 0);\n  if(amplitude !== 0){\n    const cir_02 = new CircleWave(p5,  analyzer, InitRadius - 120, [255, 8, 0]   , 0.5); \n    cir_02.darwEffect(0, 0);\n  }\n  const cir_02 = new CircleWave(p5,  analyzer, InitRadius, [0, 0, 0] , CIRC_WEIGHT);\n  cir_02.darwEffect(-300, 0);\n  if(amplitude !== 0){\n    const cir_02 = new CircleWave(p5,  analyzer, InitRadius - 120, [255, 8, 0]  , 0.5); \n    cir_02.darwEffect(0, 0);\n  }\n \n  const waveBars = new WaveBars(p5, analyzer);\n  waveBars.drawBars(0, 0);\n\n  const rect_top = new DrawRec(p5, 0, -600, -540); // red rec center\n  rect_top.drawRect(1500, 200, 0);\n\n const rect_left = new DrawRec(p5, -17, 1100, 300);// right\n rect_left.drawRect(700, 600, 0)\n//\n const rect_right = new DrawRec(p5, 29, -1420, 0); // left\n rect_right.drawRect(700, 600, 0);\n\n  } // callback () =>{}\n); // Export\n\n\nclass WaveBars{\n  p5: p5\n  analyzer: Tone.Analyser\n  constructor(p5: p5, analyzer: Tone.Analyser){\n    this.p5 = p5;\n    this.analyzer = analyzer;\n  }\n    // Render loop that draws shapes with p5\n      drawBars(box_x_pos: number, box_y_pos: number) {\n\n      this.p5.translate(box_x_pos, 250)\n      this.drawRecMidRect(this.p5); // rec-waves box\n\n      const values = this.analyzer.getValue();\n      this.p5.noStroke();\n      var bars = 55;\n      this.p5.translate(14, -30)\n    \n      for (var i = 0; i < bars; i++) {\n        var amp = values[i] as number;\n       const bar_x = i * 5;\n        const bar_width = 4.5;\n        if(amp > 0) amp = amp*-1;\n        const bar_height = amp / 4;\n        this.p5.fill(0);\n        this.p5.rect(\n          bar_x,\n          5,\n          bar_width,\n          (500 * bar_height) -2\n        );\n      }\n    }\n\n    drawRecMidRect(p5: p5){\n    //  p5.translate(WIDTH - 1440, HEIGHT - 500)\n      p5.noStroke();\n      const color = randomColor()\n      p5.fill(color[0], color[1], color[2]);\n        p5.rect(\n        0,\n        -20,\n        300,\n         -50,\n         p5.PI + 20.0,\n         p5.PI + 20.0,\n         p5.PI,\n         p5.PI\n      );\n      \n        }\n\n}\n\n    class DrawRec{\n      p5: p5;\n      shear: number;\n      x_pos: number;\n      y_pos: number;\n\n      constructor(p5: p5, shear: number, x_pos: number, y_pos: number){\n        this.p5 = p5;\n        this.shear = shear;\n        this.x_pos = x_pos;\n        this.y_pos = y_pos;\n      }\n\n       drawRect(width: number, height: number, border: number) {\n      this.p5.translate(this.x_pos, this.y_pos)\n      this.p5.noStroke();\n      this.p5.shearX(this.shear)\n\n      if(amplitude === 0){\n      this.p5.fill(248, 53, 53);\n      } else {\n        var color = randomColor();\n        this.p5.fill(color[0], color[1], color[2]);\n      }\n      this.p5.rect(\n        0,\n        0,\n        width,\n         height,\n         25\n      );\n    }\n  }\n\nclass CircleWave{\n  p5: P5;\n  values: any;\n  radius: number;\n  color: number [];\n  shape_weight: number;\n  constructor(p5: p5, waveValues: Tone.Analyser, radius: number,\n    fill_color: number [], circum_w: number){\n    this.p5 = p5;\n    this.values = waveValues.getValue();\n    this.radius = radius;\n    this.color = fill_color;\n    this.shape_weight = circum_w;\n  }\n\n darwEffect(canvas_pos_x: number, canvas_pos_y: number): void{\n  this.p5.translate(canvas_pos_x, canvas_pos_y)\n  this.p5.strokeWeight(this.shape_weight); // Density of the circumference \n  const stroke = randomColor();\n  this.p5.stroke(stroke[0],\n    stroke[1],\n    stroke[2]);\n  this.p5.fill(\n    this.color[0],\n    this.color[1],\n    this.color[2]);\n  this.p5.beginShape();\n  for (let i = 0; i <= 180; i+= 0.5) {\n      var index = Math.floor(this.p5.map(i, 0, 180, 0, this.values.length-1));\n      amplitude = this.values[index] as number;\n      var r = this.p5.map(amplitude, -1, 1, 50, this.radius)\n      var x = r * Math.sin(i) ;\n      var y = r * Math.cos(i)\n      // Place vertex\n      this.p5.vertex(x , y);\n  }\n  this.p5.endShape();\n}\n}\n//==================================================================\nfunction randomColor(): number [] {\n  return [Math.floor(Math.random()*250) + 150,\n     Math.floor(Math.random()*250) + 150,\n      Math.floor(Math.random()*250) + 150];\n}\n\n\n","// 3rd party library imports\nimport * as Tone from 'tone';\nimport { List, Range } from 'immutable';\n\n// project imports\nimport { Instrument, InstrumentProps } from '../Instruments';\nimport { PolySynth } from 'tone';\n\n/** ------------------------------------------------------------------------ **\n * Contains implementation of components for Guitar.\n ** ------------------------------------------------------------------------ */\ninterface GuitarProps {\n  note: string; // C, Db, D, Eb, E, F, Gb, G, Ab, A, Bb, B\n  duration?: string;\n  synth?: Tone.PolySynth; // Contains library code for making polyphonic sound\n  muted?: boolean;\n  octave: number;\n  stringName?: string;\n  stringIndex: number;\n  transpositionalOffset: number; // Transpositional offset\n  activeNotesProp: string[]; // Polyphonic note output\n  fretsProp: List<{note: string,idx:number}>; \n}\n\n// Polysynth setup for a unique Guitar sound\nconst limiter = new Tone.Limiter(0).toDestination();\nconst filter = new Tone.FeedbackCombFilter(1/1000,.7).toDestination();\nlet pSynth = new Tone.PolySynth();\n\npSynth.maxPolyphony = 7;\npSynth.toDestination();\n\npSynth.set({\n\toscillator: {\n\t\ttype: \"fmsine6\"\n\t},\n\tenvelope: {\n\t\tattack: 0.01,\n        decay: .1,\n        sustain: .2,\n\t},\n    volume: -15,\n});\n\npSynth.connect(filter);\npSynth.connect(limiter);\n\n\nexport function GuitarString({\n  stringName,\n  stringIndex,\n  transpositionalOffset,\n  activeNotesProp,\n  fretsProp,\n  octave,\n\n}: GuitarProps): JSX.Element {\n  return (\n    <div className = 'inline-flex br b--black'>\n        <div onMouseDown={()=>{activeNotesProp[stringIndex] = '';\n            }} className='inline-flex pa1 bg-silver'>\n            <input className='flex bg-transparent' type='radio' value='male' name= {`string${stringIndex}`}/>\n        </div>\n        <div className ='flex w1'>\n            <text className='flex-auto f3'>{stringName}</text>\n        </div>\n    {Range(octave, octave+2).map(currentOctave =>\n        fretsProp.map(fret => {\n            let note = `${fret.note}${currentOctave}`;\n            let fretStyle: string = 'inline-flex bg-light-yellow br b--silver pa1';\n            note = Tone.Midi(note).transpose(transpositionalOffset).toNote();\n            if(currentOctave === octave && fret.note === 'C' ){\n                fretStyle = 'inline-flex br b--washed-yellow bw3 pa1';\n            }\n            return (\n                <div className = {fretStyle}>\n                    <div\n                    onMouseDown={()=>{activeNotesProp[stringIndex] = note;}}\n                    className='flex-auto pr2 pl2 bg-transparent'\n                    >\n                        <input className='flex' type='radio' value='male' name= {`string${stringIndex}`}/>\n                    </div>\n                </div>\n            );\n        }),\n        )}\n    </div>\n  );\n}\n\nfunction fretMarker(numberOfFrets: number){\n  return(\n    <div className='inline-flex pt3'>\n    <text style={{\n        paddingRight: 10,\n        fontSize: 12,\n    }}>Mute</text>\n    <text style={{\n        paddingRight: 19,\n        fontSize: 12\n    }}>Open</text>\n      <div>{Range(1,numberOfFrets-1).map(fret => {\n          return(\n              <text style={{\n                  paddingRight:26.5,\n                  fontSize:12,\n                  alignItems: 'center',\n            }}>{fret.toString().padStart(2,'0')}</text>\n          )\n      }\n      )}</div>\n      </div>\n  )\n}\n\n\n\n\n\n\nfunction Guitar({ synth, setSynth }: InstrumentProps): JSX.Element {\n  const frets = List([\n    { note: 'C', idx: 0 },\n    { note: 'Db', idx: 0.5 },\n    { note: 'D', idx: 1 },\n    { note: 'Eb', idx: 1.5 },\n    { note: 'E', idx: 2 },\n    { note: 'F', idx: 3 },\n    { note: 'Gb', idx: 3.5 },\n    { note: 'G', idx: 4 },\n    { note: 'Ab', idx: 4.5 },\n    { note: 'A', idx: 5 },\n    { note: 'Bb', idx: 5.5 },\n    { note: 'B', idx: 6 },\n  ]);\n\n  const guitarStrings = List([\n    { note: 'E', octave: 4, offset: 4, str: 1},\n    { note: 'B', octave: 3, offset: 11, str: 2},\n    { note: 'G', octave: 3, offset: 7, str: 3},\n    { note: 'D', octave: 3, offset: 2, str: 4},\n    { note: 'A', octave: 2, offset: 9, str: 5},\n    { note: 'E', octave: 2, offset: 4, str: 6},\n  ]);\n\n  let activeNotes: string[] = ['','','','','',''];\n\n  function strum(){\n    pSynth.releaseAll();\n    Tone.Transport.cancel();\n    pSynth.unsync();\n\n    let temp = activeNotes.filter(n=>n!=='')\n    let triggeredNotes: string[] = temp.map(x=>Tone.Frequency(x).toNote())\n\n    pSynth.triggerAttackRelease(triggeredNotes,.6);\n  }\n\n  function pluck(){\n    pSynth.releaseAll();\n    Tone.Transport.cancel();\n    Tone.Transport.stop();\n    pSynth.sync();\n\n    let temp = activeNotes.filter(n=>n!=='')\n    let triggeredNotes: string[] = temp.map(x=>Tone.Frequency(x).toNote())\n\n    for(let i = 0; i < triggeredNotes.length;i++){\n        pSynth.triggerAttackRelease(triggeredNotes[i],.3,(triggeredNotes.length - (i+1))/2);\n    }\n\n    Tone.Transport.start();\n  }\n\n\n  \n  const setOscillator = () => {\n    setSynth(oldSynth => {\n      oldSynth.disconnect();\n      \n      return new Tone.Synth(\n        pSynth.get()\n      ).toDestination();\n    });\n  };\n\n  //setOscillator();\n\n  return (\n    <div className='flex-column'>\n        <div>{fretMarker(24)}</div>\n        <div className='flex-column'>\n        {guitarStrings.map(str =>{ \n                return(\n                    <div className='flex'>\n                     <GuitarString\n                        note={str.note}\n                        synth={pSynth}\n                        octave={str.octave}\n                        transpositionalOffset={str.offset}\n                        stringName = {str.note}\n                        activeNotesProp = {activeNotes}\n                        fretsProp = {frets}\n                        stringIndex ={str.str}\n                    />\n                </div>\n                )\n            })}\n        <div className='w-100 tc'>\n        <div className='dib w-30 pa2' onMouseDown={()=> strum()}>\n            <button className='w-100 bg-light-silver'>Strum</button>\n        </div>\n        <div className='dib w-30 pa2' onMouseDown={()=> pluck()}>\n            <button className='w-100 bg-light-silver'>Arpeggiate</button>\n        </div>\n        <div className='dib w-30 pa2' onMouseDown={()=> setOscillator()}>\n            <button className='w-100 bg-light-silver'>Set as active instrument</button>\n        </div>\n        </div>\n        </div>\n    </div>\n  );\n}\n\nexport const GuitarInstrument = new Instrument('ccirini', Guitar);","\n// 3rd party library imports\nimport P5 from 'p5';\nimport * as Tone from 'tone';\n\nimport { Visualizer } from '../Visualizers';\n\nexport const ccirini = new Visualizer(\n  'ccirini',\n  (p5: P5, analyzer: Tone.Analyser) => {\n    const width = window.innerWidth;\n    const height = window.innerHeight / 2;\n    \n    let r = 0;\n    let g = 250;\n    let b = 255;\n\n    p5.rectMode(p5.CENTER);\n    p5.background(0, 0, 0, 255);\n    p5.noFill();\n    p5.translate(width/3,height/2);\n    p5.stroke(r,g,b);;\n\n    const values = analyzer.getValue();\n\n    let particles = [];\n    \n    for (let i = 0; i < values.length; i+=8) {\n        p5.push();\n        const amplitude = values[i] as number;\n        p5.rotate((p5.frameCount +i)/(100));\n        p5.rect(0,0,i+(amplitude*1000),i+(amplitude*1000),20);\n     \n        if(amplitude!==0){\n            p5.stroke(255,255,255);\n            particles.push(p5.circle(100+(100*amplitude),100+(100*amplitude),(100*amplitude)));\n            particles.push(p5.circle(-1*100+(100*amplitude),-1*100+(100*amplitude),(100*amplitude)));\n        }\n        p5.pop();\n    }  \n  },\n);\n","import * as Tone from 'tone';\nimport classNames from 'classnames';\nimport { List, Range } from 'immutable';\nimport React from 'react';\nimport { Instrument, InstrumentProps } from '../Instruments';\n\ninterface XylophoneKeyProps {\n  note: string;\n  synth?: Tone.AMSynth;\n  octave: number;\n}\n\nlet asynth = new Tone.AMSynth().toDestination();\nconst filter = new Tone.Filter(\"C6\").toDestination();\nconst freeverb = new Tone.Freeverb().toDestination();\nfreeverb.dampening = 160;\n\nasynth.set({\n\n\tenvelope: {\n\t\tattack: 0.01,\n        sustain: 1,\n\t},\n    volume: 5,\n});\n\nasynth.connect(freeverb);\nasynth.connect(filter);\n\nasynth.harmonicity.value = 32;\n\nlet randomColor = \"#\" + (((1 << 24) * Math.random()) | 0).toString(16);\n\nexport function XylophoneKey({\n  note,\n  synth,\n}: XylophoneKeyProps): JSX.Element {\n\n  return (\n    <div\n      onMouseDown={() => synth?.triggerAttackRelease(`${note}`, '64n')}\n      style={{\n        height: \"23rem\",\n        width: \"6.5rem\",\n        backgroundColor: randomColor+10,\n        margin: \"0.2rem\",\n        display: \"inline-block\",\n        border: \"solid\",\n        borderRadius: \"20px\",\n        zIndex: -1\n      }}\n    >\n      <div className=\"circle\"\n        style={{height: \"20px\",\n        width: \"20px\",\n        borderRadius:\"50%\",\n        backgroundColor: \"black\",\n        marginLeft: \"2.3rem\",\n        marginTop:\"10px\"}}>\n      </div>\n      <div className=\"circle2\"\n        style={{height: \"20px\",\n        width: \"20px\",\n        borderRadius:\"50%\",\n        backgroundColor: \"black\",\n        marginLeft: \"2.3rem\",\n        marginTop:\"18.5rem\"}}>\n      </div>\n    </div>\n    \n  );\n}\n\nfunction Xylophone({ synth, setSynth }: InstrumentProps): JSX.Element {\n  const keys = List([\n    { note: 'C', idx: 4 },\n    { note: 'D', idx: 5 },\n    { note: 'E', idx: 6 },\n    { note: 'F', idx: 7 },\n    { note: 'G', idx: 8 },\n    { note: 'A', idx: 9 },\n    { note: 'B', idx: 10 },\n  ]);\n\n  const setOscillator = () => {\n    setSynth(oldSynth => {\n      oldSynth.disconnect();\n      \n      return new Tone.Synth(\n        synth.get()\n      ).toDestination();\n    });\n  };\n\n  return (\n    <div className=\"pv4\">\n      <div className=\"relative dib h4 w-100 ml4\">\n        {Range(3, 5).map(octave =>\n          keys.map(key => {\n            const note = `${key.note}${octave+2}`;\n            return (\n              <XylophoneKey\n                note={note}\n                synth={asynth}\n                octave={octave}\n              />\n            );\n          }),\n        )}\n      </div>\n      <div className='dib w-30 pa2' onMouseDown={()=> setOscillator()}>\n            <button className='w-100 bg-light-silver'>Set as active instrument</button>\n        </div>\n    </div>\n  );\n}\n\nexport const XylophoneInstrument = new Instrument('yujarvis08', Xylophone);","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlay(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 14,\n    height: 16,\n    viewBox: \"0 0 14 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M11.907 7.99997L1.75 2.10772V13.8922L11.907 7.99997ZM13.293 6.78197C13.5076 6.90481 13.6858 7.08214 13.8098 7.29602C13.9339 7.5099 13.9992 7.75275 13.9992 7.99997C13.9992 8.2472 13.9339 8.49004 13.8098 8.70392C13.6858 8.9178 13.5076 9.09514 13.293 9.21797L2.15775 15.679C1.24775 16.2075 0 15.6037 0 14.461V1.53897C0 0.396223 1.24775 -0.207528 2.15775 0.320972L13.293 6.78197Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlay);\nexport default __webpack_public_path__ + \"static/media/play.ae28f2f8.svg\";\nexport { ForwardRef as ReactComponent };","// 3rd party library imports\nimport P5 from 'p5';\nimport * as rp5 from 'react-p5';\nimport * as Tone from 'tone';\nimport { couldStartTrivia } from 'typescript';\n\n// project imports\nimport { Visualizer } from '../Visualizers';\n\n\n\n\nexport const Vis = new Visualizer(\n  'yujarvis08',\n  (p5: P5, analyzer: Tone.Analyser) => {\n    const width = window.innerWidth;\n    const height = window.innerHeight / 2;\n    let randomColor = \"#\" + (((1 << 24) * Math.random()) | 0).toString(16);\n    let angle = 0;\n    \n    p5.background(0, 0, 0, 255);\n\n    p5.stroke(Math.random() * 256, Math.random() * 256, Math.random() * 256, Math.random() * 256);\n    p5.strokeJoin('round');\n    p5.strokeWeight(2.5);\n    p5.noFill();\n    p5.smooth();\n\n    p5.translate(width / 2.5, height / 2);\n    const values = analyzer.getValue();\n\n    p5.beginShape();\n    for (let i = 0; i < values.length / 2; i++) {\n      const amplitude = values[i] as number;\n      const x = Math.tan(amplitude) * 150;\n      const y = (Math.random() * 30) * Math.sin(amplitude) * 4;\n      let circ = p5.circle(x, y, 100);\n      circ.vertex(x, y);\n      let circ2 = p5.circle(x, y, 200);\n      circ2.vertex(x, y);\n      let circ3 = p5.circle(x, y, 300);\n      circ3.vertex(x, y);\n\n      p5.push();\n      p5.translate(x, y);\n      p5.rotate(angle);\n      p5.fill('white');\n      p5.rect(x, y, 10, 10);\n      p5.pop();\n\n      p5.push();\n      p5.translate(x, y);\n      p5.rotate(angle);\n      p5.fill(randomColor);\n      p5.circle(-200, 0, 10);\n      p5.pop();\n\n      p5.push();\n      p5.translate(x, y);\n      p5.rotate(angle);\n      p5.fill(randomColor);\n      p5.circle(-250, 0, 10);\n      p5.pop();\n\n      angle++;\n\n    }\n\n    p5.endShape();\n\n  },\n);","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPause(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 10,\n    height: 16,\n    viewBox: \"0 0 10 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M1.5 0.125C1.73206 0.125 1.95462 0.217187 2.11872 0.381282C2.28281 0.545376 2.375 0.767936 2.375 1V15C2.375 15.2321 2.28281 15.4546 2.11872 15.6187C1.95462 15.7828 1.73206 15.875 1.5 15.875C1.26794 15.875 1.04538 15.7828 0.881282 15.6187C0.717187 15.4546 0.625 15.2321 0.625 15V1C0.625 0.767936 0.717187 0.545376 0.881282 0.381282C1.04538 0.217187 1.26794 0.125 1.5 0.125V0.125ZM8.5 0.125C8.73206 0.125 8.95462 0.217187 9.11872 0.381282C9.28281 0.545376 9.375 0.767936 9.375 1V15C9.375 15.2321 9.28281 15.4546 9.11872 15.6187C8.95462 15.7828 8.73206 15.875 8.5 15.875C8.26794 15.875 8.04538 15.7828 7.88128 15.6187C7.71719 15.4546 7.625 15.2321 7.625 15V1C7.625 0.767936 7.71719 0.545376 7.88128 0.381282C8.04538 0.217187 8.26794 0.125 8.5 0.125V0.125Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPause);\nexport default __webpack_public_path__ + \"static/media/pause.6d72bb70.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgNext(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 28,\n    height: 16,\n    viewBox: \"0 0 28 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M27.125 0C27.3571 0 27.5796 0.0921874 27.7437 0.256282C27.9078 0.420376 28 0.642936 28 0.875V14.875C28 15.1071 27.9078 15.3296 27.7437 15.4937C27.5796 15.6578 27.3571 15.75 27.125 15.75C26.8929 15.75 26.6704 15.6578 26.5063 15.4937C26.3422 15.3296 26.25 15.1071 26.25 14.875V9.191L15.2827 15.554C14.3727 16.0825 13.125 15.4788 13.125 14.336V9.191L2.15775 15.554C1.24775 16.0825 0 15.4788 0 14.336V1.414C0 0.27125 1.24775 -0.3325 2.15775 0.196L13.125 6.559V1.414C13.125 0.27125 14.3727 -0.3325 15.2827 0.196L26.25 6.559V0.875C26.25 0.642936 26.3422 0.420376 26.5063 0.256282C26.6704 0.0921874 26.8929 0 27.125 0V0ZM1.75 1.98275V13.7672L11.907 7.875L1.75 1.98275ZM14.875 1.98275V13.7672L25.032 7.875L14.875 1.98275Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNext);\nexport default __webpack_public_path__ + \"static/media/next.7c9d7c79.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPrev(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 28,\n    height: 16,\n    viewBox: \"0 0 28 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M0.875 0C1.10706 0 1.32962 0.0921874 1.49372 0.256282C1.65781 0.420376 1.75 0.642936 1.75 0.875V6.559L12.7173 0.196C13.6273 -0.3325 14.875 0.27125 14.875 1.414V6.559L25.8423 0.196C26.7523 -0.3325 28 0.27125 28 1.414V14.336C28 15.4788 26.7523 16.0825 25.8423 15.554L14.875 9.191V14.336C14.875 15.4788 13.6273 16.0825 12.7173 15.554L1.75 9.191V14.875C1.75 15.1071 1.65781 15.3296 1.49372 15.4937C1.32962 15.6578 1.10706 15.75 0.875 15.75C0.642936 15.75 0.420376 15.6578 0.256282 15.4937C0.0921873 15.3296 0 15.1071 0 14.875V0.875C0 0.642936 0.0921873 0.420376 0.256282 0.256282C0.420376 0.0921874 0.642936 0 0.875 0V0ZM13.125 1.98275L2.968 7.875L13.125 13.7672V1.98275ZM26.25 1.98275L16.093 7.875L26.25 13.7672V1.98275Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPrev);\nexport default __webpack_public_path__ + \"static/media/prev.0b3cf3c2.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport { ReactComponent as Play } from \"../Assets/play.svg\";\nimport { ReactComponent as Pause } from \"../Assets/pause.svg\";\nimport { ReactComponent as Next } from \"../Assets/next.svg\";\nimport { ReactComponent as Prev } from \"../Assets/prev.svg\";\n\nconst AudioControls = ({\n  isPlaying,\n  onPlayPauseClick,\n  onPrevClick,\n  onNextClick\n}: any) => (\n  <div className=\"audio-controls\">\n    <button\n      type=\"button\"\n      className=\"prev\"\n      aria-label=\"Previous\"\n      onClick={onPrevClick}\n    >\n      <Prev />\n    </button>\n    {isPlaying ? (\n      <button\n        type=\"button\"\n        className=\"pause\"\n        onClick={() => onPlayPauseClick(false)}\n        aria-label=\"Pause\"\n      >\n        <Pause />\n      </button>\n    ) : (\n      <button\n        type=\"button\"\n        className=\"play\"\n        onClick={() => onPlayPauseClick(true)}\n        aria-label=\"Play\"\n      >\n        <Play />\n      </button>\n    )}\n    <button\n      type=\"button\"\n      className=\"next\"\n      aria-label=\"Next\"\n      onClick={onNextClick}\n    >\n      <Next />\n    </button>\n  </div>\n);\n\nexport default AudioControls;\n","export const Songs = [\n    {\n        title: \"After the Love\",\n        artist: \"R.I.O\",\n        audioSrc: require(\"../sounds/mp3s/AftertheLove.mp3\").default,\n        image: 'https://i1.sndcdn.com/artworks-000457158735-eehj9f-t500x500.jpg',\n      },\n      {\n        title: \"A Rush of Blood to the Head\",\n        artist: \"Coldplay\",\n        audioSrc: require(\"../sounds/mp3s/ARushOfBloodToTheHead.m4a\").default,\n        image: 'https://www.amoeba.com/sized-images/max/500/500/uploads/albums/covers/other//COLDPLAY.jpg',\n      },\n      {\n        title: \"Pretty Thoughts\",\n        artist: \"Alina Baraz\",\n        audioSrc: require(\"../sounds/mp3s/PrettyThoughts.mp3\").default,\n        image: 'https://i1.sndcdn.com/artworks-000117930986-i8yt5q-t500x500.jpg',\n      },\n\n      {\n        title: \"Bartender\",\n        artist: \"T-Pain\",\n        audioSrc: require(\"../sounds/mp3s/BarTender.mp3\").default,\n        image: 'https://upload.wikimedia.org/wikipedia/en/0/07/Bartender_%28T-Pain_song%29.jpg',\n      },\n    {\n        title: \"Rock that Body\",\n        artist: \"Black Eyed Peas\",\n        audioSrc: require(\"../sounds/mp3s/RockThatBody.mp3\").default,\n        image: 'https://m.media-amazon.com/images/I/41Zo954AAKL.jpg',\n      },\n      {\n        title: \"Smack That\",\n        artist: \"Akon\",\n        audioSrc: require(\"../sounds/mp3s/SmackThat.mp3\").default,\n        image: 'https://www.songmeaningsandfacts.com/wp-content/uploads/2020/05/Smack-That-by-Akon-ft.-Eminem.png',\n      },\n      {\n        title: \"Here is Gone\",\n        artist: \"Goo Goo Dolls\",\n        audioSrc: require(\"../sounds/mp3s/HereisGone.mp3\").default,\n        image: 'https://i.scdn.co/image/ab67616d0000b2739923ca569ea4d53394c0146e',\n      },\n      {\n        title: \"In Bloom\",\n        artist: \"Nirvana\",\n        audioSrc: require(\"../sounds/mp3s/InBloom.m4a\").default,\n        image: 'https://museoz.com/wp-content/uploads/2020/02/Screen-Shot-2020-02-24-at-10.49.58-am-1.png',\n      },\n      {\n        title: \"Meet me Halfway\",\n        artist: \"Black Eyed Peas \",\n        audioSrc: require(\"../sounds/mp3s/MeetMeHalfway.mp3\").default,\n        image: 'https://img.discogs.com/AFV0StPbOmx8FlAgEevc-mitHFQ=/fit-in/600x527/filters:strip_icc():format(jpeg):mode_rgb():quality(90)/discogs-images/R-5063718-1383504969-6305.jpeg.jpg',\n      },\n      {\n        title: \"Shadowplay\",\n        artist: \"The Killers\",\n        audioSrc: require(\"../sounds/mp3s/Shadowplay.mp3\").default,\n        image: 'https://upload.wikimedia.org/wikipedia/en/thumb/6/6c/Shadowplay_%28The_Killers_song%29_cover.jpg/220px-Shadowplay_%28The_Killers_song%29_cover.jpg',\n      }\n    \n];\n","import React, { useState, useEffect, useRef } from \"react\";\nimport AudioControls from \"./AudioControls\";\nimport { Songs } from './Songs';\nimport \"./AudioPlayer.css\";\n\nconst AudioPlayer = () => {\n  // State\n  const [trackIndex, setTrackIndex] = useState(0);\n  const [trackProgress, setTrackProgress] = useState(0);\n  const [isPlaying, setIsPlaying] = useState(false);\n\n  //console.log(tracks)\n  // Destructure for conciseness\n  const { title, artist, image, audioSrc } = Songs[trackIndex];\n\n  // Refs\n  const audioRef = useRef(new Audio(audioSrc));\n  const intervalRef = useRef(0.0);\n  const isReady = useRef(false);\n\n  // Destructure for conciseness\n  const { duration } = audioRef.current;\n\n  const currentPercentage = duration\n    ? `${(trackProgress / duration) * 100}%`\n    : \"0%\";\n  const trackStyling = `\n    -webkit-gradient(linear, 0% 0%, 100% 0%, color-stop(${currentPercentage}, #fff), color-stop(${currentPercentage}, #777))\n  `;\n\n\n  const startTimer = () => {\n    // Clear any timers already running\n    clearInterval(intervalRef.current);\n    intervalRef.current = setInterval(() => {\n      if (audioRef.current.ended) {\n        toNextTrack();\n      } else {\n        setTrackProgress(audioRef.current.currentTime);\n      }\n    }, \n    );\n  };\n\n  const onScrub = (value: any) => {\n    // Clear any timers already running\n    clearInterval(intervalRef.current);\n    audioRef.current.currentTime = value;\n    setTrackProgress(audioRef.current.currentTime);\n  };\n\n  const onScrubEnd = () => {\n    // If not already playing, start\n    if (!isPlaying) {\n      setIsPlaying(true);\n    }\n    startTimer();\n  };\n\n  const toPrevTrack = () => {\n    if (trackIndex - 1 < 0) {\n      setTrackIndex(Songs.length - 1);\n    } else {\n      setTrackIndex(trackIndex - 1);\n    }\n  };\n\n  const toNextTrack = () => {\n    if (trackIndex < Songs.length - 1) {\n      setTrackIndex(trackIndex + 1);\n    } else {\n      setTrackIndex(0);\n    }\n  };\n\n  useEffect(() => {\n    if (isPlaying) {\n      audioRef.current.play();\n      startTimer();\n    } else {\n      audioRef.current.pause();\n    }\n  }, [isPlaying]);\n\n  // Handles cleanup and setup when changing tracks\n  useEffect(() => {\n    audioRef.current.pause();\n\n    audioRef.current = new Audio(audioSrc);\n    setTrackProgress(audioRef.current.currentTime);\n\n    if (isReady.current) {\n      audioRef.current.play();\n      setIsPlaying(true);\n      startTimer();\n    } else {\n      // Set the isReady ref as true for the next pass\n      isReady.current = true;\n    }\n  }, [trackIndex]);\n\n  useEffect(() => {\n    // Pause and clean up on unmount\n    return () => {\n      audioRef.current.pause();\n      clearInterval(intervalRef.current);\n    };\n  }, []);\n\n  return (\n    <div className=\"audio-player\">\n      <div className=\"track-info\">\n        <img\n          className=\"artwork\"\n          src={image}\n          alt={`track artwork for ${title} by ${artist}`}\n        />\n        <h3 className=\"title\">{title}</h3>\n        <h4 className=\"artist\">{artist}</h4>\n\n        <hr className=\"line-breaker\"/>\n        <AudioControls className= \"audio-controls\"\n          isPlaying={isPlaying}\n          onPrevClick={toPrevTrack}\n          onNextClick={toNextTrack}\n          onPlayPauseClick={setIsPlaying}\n        />\n      </div>\n      <hr className=\"line-breaker\"/>\n      <input\n          type=\"range\"\n          value={trackProgress}\n          step=\"1\"\n          min=\"0\"\n          max={duration ? duration : `${duration}`}\n          className=\"progress\"\n          onChange={(e) => onScrub(e.target.value)}\n          onMouseUp={onScrubEnd}\n          onKeyUp={onScrubEnd}\n          style={{ background: trackStyling }}\n        />\n \n    </div>\n  );\n};\nexport default AudioPlayer;","// 3rd party library imports\nimport * as Tone from 'tone';\nimport Mp3Player from \"../components/AudioPlayer\";\nimport '../components/AudioPlayer.css'\n\n// project imports\nimport { Instrument, InstrumentProps } from '../Instruments';\n\n/** ------------------------------------------------------------------------ **\n * Contains implementation of components for Piano.\n ** ------------------------------------------------------------------------ */\ninterface MP3Player {\n  synth?: Tone.Synth; // Contains library code for making sound\n}\nexport function AudioPlayer({\nsynth\n}: MP3Player): JSX.Element {\n\n  \n\n\treturn (\n     \n        <Mp3Player></Mp3Player> \n        \n\t);\n}\nfunction Piano({ synth, setSynth }: InstrumentProps): JSX.Element {\n  return (\n    <div className=\"mp3-player\">\n      <AudioPlayer\n        synth={synth}/>\n      </div>\n  );\n}// PIANO\n\n\n\n\nexport const Audioplayer = new Instrument('AudioPlayer', Piano);\n\n","// 3rd party\nimport { List, Map } from 'immutable';\n\n// project dependencies\nimport { PianoInstrument } from './instruments/Piano';\nimport { WaveformVisualizer } from './visualizers/Waveform';\n\n\nimport { Drumkit } from './instruments/Rig06';\nimport { MiniTron } from './visualizers/Rig06';\n\nimport { GuitarInstrument } from './instruments/ccirini';\nimport { ccirini} from './visualizers/ccirini';\n\n\nimport { XylophoneInstrument } from './instruments/yujarvis08';\nimport { Vis } from './visualizers/yujarvis08';\n\n\nimport {Audioplayer} from './instruments/AudioPlayerMain'\n\n\n/** ------------------------------------------------------------------------ **\n * The entire application state is stored in AppState.\n ** ------------------------------------------------------------------------ */\n\n/**\n * Observation: pure map (compare and contrast with impure map)\n *\n * 'instrument': Instrument\n * 'visualizer': Visualizer\n */\nexport type AppState = Map<string, any>;\n\nconst instruments = List([PianoInstrument, Drumkit, GuitarInstrument, XylophoneInstrument, Audioplayer]);\nconst visualizers = List([WaveformVisualizer, MiniTron, ccirini, Vis]);\nexport const defaultState: AppState = Map<string, any>({\n  instruments,\n  visualizers,\n});\n","import { io as newSocket, Socket as SocketIO } from 'socket.io-client';\n\nconst SOCKET_URL = 'ws://localhost:3001';\n\nconst SOCKET_OPTS = {\n  transports: ['websocket'],\n  path: '/ws',\n  autoConnect: true,\n  reconnection: true,\n  timeout: 10000,\n};\n\nlet idCounter = 1;\n\nexport async function send(\n  socket: Socket,\n  name: string,\n  msg: any,\n): Promise<any> {\n  const _id = idCounter++;\n\n  return new Promise((resolve, reject) => {\n    socket.once(`${name}.${_id}`, resp => {\n      const { error, ...success } = resp;\n      if (success) {\n        resolve(success);\n      } else {\n        reject(error);\n      }\n    });\n    socket.emit(name, { _id, ...msg });\n  });\n}\n\n\nexport type Socket = SocketIO;\n\nexport function initializeSocket(\n  onConnect: (socket: Socket) => void,\n  onDisconnect: () => void,\n): Socket {\n  const socket = newSocket(SOCKET_URL, SOCKET_OPTS);\n\n  socket.on('connect', () => onConnect(socket));\n  socket.on('disconnect', onDisconnect);\n\n  return socket;\n}\n","// 3rd party library imports\nimport { useReducer, useEffect } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\n// project imports\nimport { MainPage } from './MainPage';\nimport { DispatchAction, appReducer } from './Reducer';\nimport { defaultState } from './State';\nimport { initializeSocket, send } from './Socket';\n\n// css imports\nimport 'animate.css';\n\n/** ------------------------------------------------------------------------ **\n * App component\n ** ------------------------------------------------------------------------ */\n\nfunction App() {\n  const [state, dispatch] = useReducer(appReducer, defaultState);\n\n  useEffect(() => {\n    initializeSocket(\n      async socket => {\n        dispatch(new DispatchAction('SET_SOCKET', { socket }));\n        const { songs } = await send(socket, 'get_songs', {});\n        dispatch(new DispatchAction('SET_SONGS', { songs }));\n      },\n      () => {\n        dispatch(new DispatchAction('DELETE_SOCKET'));\n      },\n    );\n  }, []);\n\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/\">\n          <MainPage state={state} dispatch={dispatch} />\n        </Route>\n        <Route path=\"/:instrument\">\n          <MainPage state={state} dispatch={dispatch} />\n        </Route>\n        <Route path=\"*\">\n          <div>404</div>\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","// 3rd party library imports\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\n// project imports\nimport App from './App';\n\n// CSS\nimport './index.css';\nimport './tachyons.css';\n\n\n/** ------------------------------------------------------------------------ **\n * Entry point.\n ** ------------------------------------------------------------------------ */\n\nfunction onReactLoaded() {\n  console.log('React has loaded.');\n}\n\nconst rootEl = document.getElementById('root');\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  rootEl,  // Insert into DOM here\n  onReactLoaded,\n);\n"],"sourceRoot":""}